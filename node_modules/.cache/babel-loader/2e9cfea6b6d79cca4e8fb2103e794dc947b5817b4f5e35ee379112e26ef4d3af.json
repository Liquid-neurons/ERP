{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar PDFArray_1 = tslib_1.__importDefault(require(\"../objects/PDFArray\"));\nvar PDFDict_1 = tslib_1.__importDefault(require(\"../objects/PDFDict\"));\nvar PDFName_1 = tslib_1.__importDefault(require(\"../objects/PDFName\"));\nvar PDFNumber_1 = tslib_1.__importDefault(require(\"../objects/PDFNumber\"));\nvar PDFStream_1 = tslib_1.__importDefault(require(\"../objects/PDFStream\"));\nvar PDFPageLeaf = /** @class */function (_super) {\n  tslib_1.__extends(PDFPageLeaf, _super);\n  function PDFPageLeaf(map, context, autoNormalizeCTM) {\n    if (autoNormalizeCTM === void 0) {\n      autoNormalizeCTM = true;\n    }\n    var _this = _super.call(this, map, context) || this;\n    _this.normalized = false;\n    _this.autoNormalizeCTM = autoNormalizeCTM;\n    return _this;\n  }\n  PDFPageLeaf.prototype.clone = function (context) {\n    var clone = PDFPageLeaf.fromMapWithContext(new Map(), context || this.context, this.autoNormalizeCTM);\n    var entries = this.entries();\n    for (var idx = 0, len = entries.length; idx < len; idx++) {\n      var _a = entries[idx],\n        key = _a[0],\n        value = _a[1];\n      clone.set(key, value);\n    }\n    return clone;\n  };\n  PDFPageLeaf.prototype.Parent = function () {\n    return this.lookupMaybe(PDFName_1.default.Parent, PDFDict_1.default);\n  };\n  PDFPageLeaf.prototype.Contents = function () {\n    return this.lookup(PDFName_1.default.of('Contents'));\n  };\n  PDFPageLeaf.prototype.Annots = function () {\n    return this.lookupMaybe(PDFName_1.default.Annots, PDFArray_1.default);\n  };\n  PDFPageLeaf.prototype.BleedBox = function () {\n    return this.lookupMaybe(PDFName_1.default.BleedBox, PDFArray_1.default);\n  };\n  PDFPageLeaf.prototype.TrimBox = function () {\n    return this.lookupMaybe(PDFName_1.default.TrimBox, PDFArray_1.default);\n  };\n  PDFPageLeaf.prototype.ArtBox = function () {\n    return this.lookupMaybe(PDFName_1.default.ArtBox, PDFArray_1.default);\n  };\n  PDFPageLeaf.prototype.Resources = function () {\n    var dictOrRef = this.getInheritableAttribute(PDFName_1.default.Resources);\n    return this.context.lookupMaybe(dictOrRef, PDFDict_1.default);\n  };\n  PDFPageLeaf.prototype.MediaBox = function () {\n    var arrayOrRef = this.getInheritableAttribute(PDFName_1.default.MediaBox);\n    return this.context.lookup(arrayOrRef, PDFArray_1.default);\n  };\n  PDFPageLeaf.prototype.CropBox = function () {\n    var arrayOrRef = this.getInheritableAttribute(PDFName_1.default.CropBox);\n    return this.context.lookupMaybe(arrayOrRef, PDFArray_1.default);\n  };\n  PDFPageLeaf.prototype.Rotate = function () {\n    var numberOrRef = this.getInheritableAttribute(PDFName_1.default.Rotate);\n    return this.context.lookupMaybe(numberOrRef, PDFNumber_1.default);\n  };\n  PDFPageLeaf.prototype.getInheritableAttribute = function (name) {\n    var attribute;\n    this.ascend(function (node) {\n      if (!attribute) attribute = node.get(name);\n    });\n    return attribute;\n  };\n  PDFPageLeaf.prototype.setParent = function (parentRef) {\n    this.set(PDFName_1.default.Parent, parentRef);\n  };\n  PDFPageLeaf.prototype.addContentStream = function (contentStreamRef) {\n    var Contents = this.normalizedEntries().Contents || this.context.obj([]);\n    this.set(PDFName_1.default.Contents, Contents);\n    Contents.push(contentStreamRef);\n  };\n  PDFPageLeaf.prototype.wrapContentStreams = function (startStream, endStream) {\n    var Contents = this.Contents();\n    if (Contents instanceof PDFArray_1.default) {\n      Contents.insert(0, startStream);\n      Contents.push(endStream);\n      return true;\n    }\n    return false;\n  };\n  PDFPageLeaf.prototype.addAnnot = function (annotRef) {\n    var Annots = this.normalizedEntries().Annots;\n    Annots.push(annotRef);\n  };\n  PDFPageLeaf.prototype.removeAnnot = function (annotRef) {\n    var Annots = this.normalizedEntries().Annots;\n    var index = Annots.indexOf(annotRef);\n    if (index !== undefined) {\n      Annots.remove(index);\n    }\n  };\n  PDFPageLeaf.prototype.setFontDictionary = function (name, fontDictRef) {\n    var Font = this.normalizedEntries().Font;\n    Font.set(name, fontDictRef);\n  };\n  PDFPageLeaf.prototype.newFontDictionaryKey = function (tag) {\n    var Font = this.normalizedEntries().Font;\n    return Font.uniqueKey(tag);\n  };\n  PDFPageLeaf.prototype.newFontDictionary = function (tag, fontDictRef) {\n    var key = this.newFontDictionaryKey(tag);\n    this.setFontDictionary(key, fontDictRef);\n    return key;\n  };\n  PDFPageLeaf.prototype.setXObject = function (name, xObjectRef) {\n    var XObject = this.normalizedEntries().XObject;\n    XObject.set(name, xObjectRef);\n  };\n  PDFPageLeaf.prototype.newXObjectKey = function (tag) {\n    var XObject = this.normalizedEntries().XObject;\n    return XObject.uniqueKey(tag);\n  };\n  PDFPageLeaf.prototype.newXObject = function (tag, xObjectRef) {\n    var key = this.newXObjectKey(tag);\n    this.setXObject(key, xObjectRef);\n    return key;\n  };\n  PDFPageLeaf.prototype.setExtGState = function (name, extGStateRef) {\n    var ExtGState = this.normalizedEntries().ExtGState;\n    ExtGState.set(name, extGStateRef);\n  };\n  PDFPageLeaf.prototype.newExtGStateKey = function (tag) {\n    var ExtGState = this.normalizedEntries().ExtGState;\n    return ExtGState.uniqueKey(tag);\n  };\n  PDFPageLeaf.prototype.newExtGState = function (tag, extGStateRef) {\n    var key = this.newExtGStateKey(tag);\n    this.setExtGState(key, extGStateRef);\n    return key;\n  };\n  PDFPageLeaf.prototype.ascend = function (visitor) {\n    visitor(this);\n    var Parent = this.Parent();\n    if (Parent) Parent.ascend(visitor);\n  };\n  PDFPageLeaf.prototype.normalize = function () {\n    if (this.normalized) return;\n    var context = this.context;\n    var contentsRef = this.get(PDFName_1.default.Contents);\n    var contents = this.context.lookup(contentsRef);\n    if (contents instanceof PDFStream_1.default) {\n      this.set(PDFName_1.default.Contents, context.obj([contentsRef]));\n    }\n    if (this.autoNormalizeCTM) {\n      this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(), this.context.getPopGraphicsStateContentStream());\n    }\n    // TODO: Clone `Resources` if it is inherited\n    var dictOrRef = this.getInheritableAttribute(PDFName_1.default.Resources);\n    var Resources = context.lookupMaybe(dictOrRef, PDFDict_1.default) || context.obj({});\n    this.set(PDFName_1.default.Resources, Resources);\n    // TODO: Clone `Font` if it is inherited\n    var Font = Resources.lookupMaybe(PDFName_1.default.Font, PDFDict_1.default) || context.obj({});\n    Resources.set(PDFName_1.default.Font, Font);\n    // TODO: Clone `XObject` if it is inherited\n    var XObject = Resources.lookupMaybe(PDFName_1.default.XObject, PDFDict_1.default) || context.obj({});\n    Resources.set(PDFName_1.default.XObject, XObject);\n    // TODO: Clone `ExtGState` if it is inherited\n    var ExtGState = Resources.lookupMaybe(PDFName_1.default.ExtGState, PDFDict_1.default) || context.obj({});\n    Resources.set(PDFName_1.default.ExtGState, ExtGState);\n    var Annots = this.Annots() || context.obj([]);\n    this.set(PDFName_1.default.Annots, Annots);\n    this.normalized = true;\n  };\n  PDFPageLeaf.prototype.normalizedEntries = function () {\n    this.normalize();\n    var Annots = this.Annots();\n    var Resources = this.Resources();\n    var Contents = this.Contents();\n    return {\n      Annots: Annots,\n      Resources: Resources,\n      Contents: Contents,\n      Font: Resources.lookup(PDFName_1.default.Font, PDFDict_1.default),\n      XObject: Resources.lookup(PDFName_1.default.XObject, PDFDict_1.default),\n      ExtGState: Resources.lookup(PDFName_1.default.ExtGState, PDFDict_1.default)\n    };\n  };\n  PDFPageLeaf.InheritableEntries = ['Resources', 'MediaBox', 'CropBox', 'Rotate'];\n  PDFPageLeaf.withContextAndParent = function (context, parent) {\n    var dict = new Map();\n    dict.set(PDFName_1.default.Type, PDFName_1.default.Page);\n    dict.set(PDFName_1.default.Parent, parent);\n    dict.set(PDFName_1.default.Resources, context.obj({}));\n    dict.set(PDFName_1.default.MediaBox, context.obj([0, 0, 612, 792]));\n    return new PDFPageLeaf(dict, context, false);\n  };\n  PDFPageLeaf.fromMapWithContext = function (map, context, autoNormalizeCTM) {\n    if (autoNormalizeCTM === void 0) {\n      autoNormalizeCTM = true;\n    }\n    return new PDFPageLeaf(map, context, autoNormalizeCTM);\n  };\n  return PDFPageLeaf;\n}(PDFDict_1.default);\nexports.default = PDFPageLeaf;","map":{"version":3,"names":["PDFArray_1","tslib_1","__importDefault","require","PDFDict_1","PDFName_1","PDFNumber_1","PDFStream_1","PDFPageLeaf","_super","__extends","map","context","autoNormalizeCTM","_this","call","normalized","prototype","clone","fromMapWithContext","Map","entries","idx","len","length","_a","key","value","set","Parent","lookupMaybe","default","Contents","lookup","of","Annots","BleedBox","TrimBox","ArtBox","Resources","dictOrRef","getInheritableAttribute","MediaBox","arrayOrRef","CropBox","Rotate","numberOrRef","name","attribute","ascend","node","get","setParent","parentRef","addContentStream","contentStreamRef","normalizedEntries","obj","push","wrapContentStreams","startStream","endStream","insert","addAnnot","annotRef","removeAnnot","index","indexOf","undefined","remove","setFontDictionary","fontDictRef","Font","newFontDictionaryKey","tag","uniqueKey","newFontDictionary","setXObject","xObjectRef","XObject","newXObjectKey","newXObject","setExtGState","extGStateRef","ExtGState","newExtGStateKey","newExtGState","visitor","normalize","contentsRef","contents","getPushGraphicsStateContentStream","getPopGraphicsStateContentStream","InheritableEntries","withContextAndParent","parent","dict","Type","Page","exports"],"sources":["/Users/casarulez/Projects/Liquid-neurons/database_forms/data_entry_forms/node_modules/pdf-lib/src/core/structures/PDFPageLeaf.ts"],"sourcesContent":["import PDFArray from 'src/core/objects/PDFArray';\nimport PDFDict, { DictMap } from 'src/core/objects/PDFDict';\nimport PDFName from 'src/core/objects/PDFName';\nimport PDFNumber from 'src/core/objects/PDFNumber';\nimport PDFObject from 'src/core/objects/PDFObject';\nimport PDFRef from 'src/core/objects/PDFRef';\nimport PDFStream from 'src/core/objects/PDFStream';\nimport PDFContext from 'src/core/PDFContext';\nimport PDFPageTree from 'src/core/structures/PDFPageTree';\n\nclass PDFPageLeaf extends PDFDict {\n  static readonly InheritableEntries = [\n    'Resources',\n    'MediaBox',\n    'CropBox',\n    'Rotate',\n  ];\n\n  static withContextAndParent = (context: PDFContext, parent: PDFRef) => {\n    const dict = new Map();\n    dict.set(PDFName.Type, PDFName.Page);\n    dict.set(PDFName.Parent, parent);\n    dict.set(PDFName.Resources, context.obj({}));\n    dict.set(PDFName.MediaBox, context.obj([0, 0, 612, 792]));\n    return new PDFPageLeaf(dict, context, false);\n  };\n\n  static fromMapWithContext = (\n    map: DictMap,\n    context: PDFContext,\n    autoNormalizeCTM = true,\n  ) => new PDFPageLeaf(map, context, autoNormalizeCTM);\n\n  private normalized = false;\n  private readonly autoNormalizeCTM: boolean;\n\n  private constructor(\n    map: DictMap,\n    context: PDFContext,\n    autoNormalizeCTM = true,\n  ) {\n    super(map, context);\n    this.autoNormalizeCTM = autoNormalizeCTM;\n  }\n\n  clone(context?: PDFContext): PDFPageLeaf {\n    const clone = PDFPageLeaf.fromMapWithContext(\n      new Map(),\n      context || this.context,\n      this.autoNormalizeCTM,\n    );\n    const entries = this.entries();\n    for (let idx = 0, len = entries.length; idx < len; idx++) {\n      const [key, value] = entries[idx];\n      clone.set(key, value);\n    }\n    return clone;\n  }\n\n  Parent(): PDFPageTree | undefined {\n    return this.lookupMaybe(PDFName.Parent, PDFDict) as PDFPageTree | undefined;\n  }\n\n  Contents(): PDFStream | PDFArray | undefined {\n    return this.lookup(PDFName.of('Contents')) as\n      | PDFStream\n      | PDFArray\n      | undefined;\n  }\n\n  Annots(): PDFArray | undefined {\n    return this.lookupMaybe(PDFName.Annots, PDFArray);\n  }\n\n  BleedBox(): PDFArray | undefined {\n    return this.lookupMaybe(PDFName.BleedBox, PDFArray);\n  }\n\n  TrimBox(): PDFArray | undefined {\n    return this.lookupMaybe(PDFName.TrimBox, PDFArray);\n  }\n\n  ArtBox(): PDFArray | undefined {\n    return this.lookupMaybe(PDFName.ArtBox, PDFArray);\n  }\n\n  Resources(): PDFDict | undefined {\n    const dictOrRef = this.getInheritableAttribute(PDFName.Resources);\n    return this.context.lookupMaybe(dictOrRef, PDFDict);\n  }\n\n  MediaBox(): PDFArray {\n    const arrayOrRef = this.getInheritableAttribute(PDFName.MediaBox);\n    return this.context.lookup(arrayOrRef, PDFArray);\n  }\n\n  CropBox(): PDFArray | undefined {\n    const arrayOrRef = this.getInheritableAttribute(PDFName.CropBox);\n    return this.context.lookupMaybe(arrayOrRef, PDFArray);\n  }\n\n  Rotate(): PDFNumber | undefined {\n    const numberOrRef = this.getInheritableAttribute(PDFName.Rotate);\n    return this.context.lookupMaybe(numberOrRef, PDFNumber);\n  }\n\n  getInheritableAttribute(name: PDFName): PDFObject | undefined {\n    let attribute: PDFObject | undefined;\n    this.ascend((node) => {\n      if (!attribute) attribute = node.get(name);\n    });\n    return attribute;\n  }\n\n  setParent(parentRef: PDFRef): void {\n    this.set(PDFName.Parent, parentRef);\n  }\n\n  addContentStream(contentStreamRef: PDFRef): void {\n    const Contents = this.normalizedEntries().Contents || this.context.obj([]);\n    this.set(PDFName.Contents, Contents);\n    Contents.push(contentStreamRef);\n  }\n\n  wrapContentStreams(startStream: PDFRef, endStream: PDFRef): boolean {\n    const Contents = this.Contents();\n    if (Contents instanceof PDFArray) {\n      Contents.insert(0, startStream);\n      Contents.push(endStream);\n      return true;\n    }\n    return false;\n  }\n\n  addAnnot(annotRef: PDFRef): void {\n    const { Annots } = this.normalizedEntries();\n    Annots.push(annotRef);\n  }\n\n  removeAnnot(annotRef: PDFRef) {\n    const { Annots } = this.normalizedEntries();\n    const index = Annots.indexOf(annotRef);\n    if (index !== undefined) {\n      Annots.remove(index);\n    }\n  }\n\n  setFontDictionary(name: PDFName, fontDictRef: PDFRef): void {\n    const { Font } = this.normalizedEntries();\n    Font.set(name, fontDictRef);\n  }\n\n  newFontDictionaryKey(tag: string): PDFName {\n    const { Font } = this.normalizedEntries();\n    return Font.uniqueKey(tag);\n  }\n\n  newFontDictionary(tag: string, fontDictRef: PDFRef): PDFName {\n    const key = this.newFontDictionaryKey(tag);\n    this.setFontDictionary(key, fontDictRef);\n    return key;\n  }\n\n  setXObject(name: PDFName, xObjectRef: PDFRef): void {\n    const { XObject } = this.normalizedEntries();\n    XObject.set(name, xObjectRef);\n  }\n\n  newXObjectKey(tag: string): PDFName {\n    const { XObject } = this.normalizedEntries();\n    return XObject.uniqueKey(tag);\n  }\n\n  newXObject(tag: string, xObjectRef: PDFRef): PDFName {\n    const key = this.newXObjectKey(tag);\n    this.setXObject(key, xObjectRef);\n    return key;\n  }\n\n  setExtGState(name: PDFName, extGStateRef: PDFRef | PDFDict): void {\n    const { ExtGState } = this.normalizedEntries();\n    ExtGState.set(name, extGStateRef);\n  }\n\n  newExtGStateKey(tag: string): PDFName {\n    const { ExtGState } = this.normalizedEntries();\n    return ExtGState.uniqueKey(tag);\n  }\n\n  newExtGState(tag: string, extGStateRef: PDFRef | PDFDict): PDFName {\n    const key = this.newExtGStateKey(tag);\n    this.setExtGState(key, extGStateRef);\n    return key;\n  }\n\n  ascend(visitor: (node: PDFPageTree | PDFPageLeaf) => any): void {\n    visitor(this);\n    const Parent = this.Parent();\n    if (Parent) Parent.ascend(visitor);\n  }\n\n  normalize() {\n    if (this.normalized) return;\n\n    const { context } = this;\n\n    const contentsRef = this.get(PDFName.Contents);\n    const contents = this.context.lookup(contentsRef);\n    if (contents instanceof PDFStream) {\n      this.set(PDFName.Contents, context.obj([contentsRef]));\n    }\n\n    if (this.autoNormalizeCTM) {\n      this.wrapContentStreams(\n        this.context.getPushGraphicsStateContentStream(),\n        this.context.getPopGraphicsStateContentStream(),\n      );\n    }\n\n    // TODO: Clone `Resources` if it is inherited\n    const dictOrRef = this.getInheritableAttribute(PDFName.Resources);\n    const Resources =\n      context.lookupMaybe(dictOrRef, PDFDict) || context.obj({});\n    this.set(PDFName.Resources, Resources);\n\n    // TODO: Clone `Font` if it is inherited\n    const Font =\n      Resources.lookupMaybe(PDFName.Font, PDFDict) || context.obj({});\n    Resources.set(PDFName.Font, Font);\n\n    // TODO: Clone `XObject` if it is inherited\n    const XObject =\n      Resources.lookupMaybe(PDFName.XObject, PDFDict) || context.obj({});\n    Resources.set(PDFName.XObject, XObject);\n\n    // TODO: Clone `ExtGState` if it is inherited\n    const ExtGState =\n      Resources.lookupMaybe(PDFName.ExtGState, PDFDict) || context.obj({});\n    Resources.set(PDFName.ExtGState, ExtGState);\n\n    const Annots = this.Annots() || context.obj([]);\n    this.set(PDFName.Annots, Annots);\n\n    this.normalized = true;\n  }\n\n  normalizedEntries() {\n    this.normalize();\n    const Annots = this.Annots()!;\n    const Resources = this.Resources()!;\n    const Contents = this.Contents() as PDFArray | undefined;\n    return {\n      Annots,\n      Resources,\n      Contents,\n      Font: Resources.lookup(PDFName.Font, PDFDict),\n      XObject: Resources.lookup(PDFName.XObject, PDFDict),\n      ExtGState: Resources.lookup(PDFName.ExtGState, PDFDict),\n    };\n  }\n}\n\nexport default PDFPageLeaf;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}