{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar PDFName_1 = tslib_1.__importDefault(require(\"../objects/PDFName\"));\nvar PDFAcroButton_1 = tslib_1.__importDefault(require(\"./PDFAcroButton\"));\nvar flags_1 = require(\"./flags\");\nvar errors_1 = require(\"../errors\");\nvar PDFAcroRadioButton = /** @class */function (_super) {\n  tslib_1.__extends(PDFAcroRadioButton, _super);\n  function PDFAcroRadioButton() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PDFAcroRadioButton.prototype.setValue = function (value) {\n    var onValues = this.getOnValues();\n    if (!onValues.includes(value) && value !== PDFName_1.default.of('Off')) {\n      throw new errors_1.InvalidAcroFieldValueError();\n    }\n    this.dict.set(PDFName_1.default.of('V'), value);\n    var widgets = this.getWidgets();\n    for (var idx = 0, len = widgets.length; idx < len; idx++) {\n      var widget = widgets[idx];\n      var state = widget.getOnValue() === value ? value : PDFName_1.default.of('Off');\n      widget.setAppearanceState(state);\n    }\n  };\n  PDFAcroRadioButton.prototype.getValue = function () {\n    var v = this.V();\n    if (v instanceof PDFName_1.default) return v;\n    return PDFName_1.default.of('Off');\n  };\n  PDFAcroRadioButton.prototype.getOnValues = function () {\n    var widgets = this.getWidgets();\n    var onValues = [];\n    for (var idx = 0, len = widgets.length; idx < len; idx++) {\n      var onValue = widgets[idx].getOnValue();\n      if (onValue) onValues.push(onValue);\n    }\n    return onValues;\n  };\n  PDFAcroRadioButton.fromDict = function (dict, ref) {\n    return new PDFAcroRadioButton(dict, ref);\n  };\n  PDFAcroRadioButton.create = function (context) {\n    var dict = context.obj({\n      FT: 'Btn',\n      Ff: flags_1.AcroButtonFlags.Radio,\n      Kids: []\n    });\n    var ref = context.register(dict);\n    return new PDFAcroRadioButton(dict, ref);\n  };\n  return PDFAcroRadioButton;\n}(PDFAcroButton_1.default);\nexports.default = PDFAcroRadioButton;","map":{"version":3,"names":["PDFName_1","tslib_1","__importDefault","require","PDFAcroButton_1","flags_1","errors_1","PDFAcroRadioButton","_super","__extends","prototype","setValue","value","onValues","getOnValues","includes","default","of","InvalidAcroFieldValueError","dict","set","widgets","getWidgets","idx","len","length","widget","state","getOnValue","setAppearanceState","getValue","v","V","onValue","push","fromDict","ref","create","context","obj","FT","Ff","AcroButtonFlags","Radio","Kids","register","exports"],"sources":["/Users/casarulez/Projects/Liquid-neurons/database_forms/data_entry_forms/node_modules/pdf-lib/src/core/acroform/PDFAcroRadioButton.ts"],"sourcesContent":["import PDFRef from 'src/core/objects/PDFRef';\nimport PDFDict from 'src/core/objects/PDFDict';\nimport PDFName from 'src/core/objects/PDFName';\nimport PDFAcroButton from 'src/core/acroform/PDFAcroButton';\nimport PDFContext from 'src/core/PDFContext';\nimport { AcroButtonFlags } from 'src/core/acroform/flags';\nimport { InvalidAcroFieldValueError } from 'src/core/errors';\n\nclass PDFAcroRadioButton extends PDFAcroButton {\n  static fromDict = (dict: PDFDict, ref: PDFRef) =>\n    new PDFAcroRadioButton(dict, ref);\n\n  static create = (context: PDFContext) => {\n    const dict = context.obj({\n      FT: 'Btn',\n      Ff: AcroButtonFlags.Radio,\n      Kids: [],\n    });\n    const ref = context.register(dict);\n    return new PDFAcroRadioButton(dict, ref);\n  };\n\n  setValue(value: PDFName) {\n    const onValues = this.getOnValues();\n    if (!onValues.includes(value) && value !== PDFName.of('Off')) {\n      throw new InvalidAcroFieldValueError();\n    }\n\n    this.dict.set(PDFName.of('V'), value);\n\n    const widgets = this.getWidgets();\n    for (let idx = 0, len = widgets.length; idx < len; idx++) {\n      const widget = widgets[idx];\n      const state = widget.getOnValue() === value ? value : PDFName.of('Off');\n      widget.setAppearanceState(state);\n    }\n  }\n\n  getValue(): PDFName {\n    const v = this.V();\n    if (v instanceof PDFName) return v;\n    return PDFName.of('Off');\n  }\n\n  getOnValues(): PDFName[] {\n    const widgets = this.getWidgets();\n\n    const onValues: PDFName[] = [];\n    for (let idx = 0, len = widgets.length; idx < len; idx++) {\n      const onValue = widgets[idx].getOnValue();\n      if (onValue) onValues.push(onValue);\n    }\n\n    return onValues;\n  }\n}\n\nexport default PDFAcroRadioButton;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}