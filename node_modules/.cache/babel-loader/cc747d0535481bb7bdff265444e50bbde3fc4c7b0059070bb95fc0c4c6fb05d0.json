{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar PDFDict_1 = tslib_1.__importDefault(require(\"../objects/PDFDict\"));\nvar PDFName_1 = tslib_1.__importDefault(require(\"../objects/PDFName\"));\nvar PDFRef_1 = tslib_1.__importDefault(require(\"../objects/PDFRef\"));\nvar PDFString_1 = tslib_1.__importDefault(require(\"../objects/PDFString\"));\nvar PDFHexString_1 = tslib_1.__importDefault(require(\"../objects/PDFHexString\"));\nvar BorderStyle_1 = tslib_1.__importDefault(require(\"./BorderStyle\"));\nvar PDFAnnotation_1 = tslib_1.__importDefault(require(\"./PDFAnnotation\"));\nvar AppearanceCharacteristics_1 = tslib_1.__importDefault(require(\"./AppearanceCharacteristics\"));\nvar PDFWidgetAnnotation = /** @class */function (_super) {\n  tslib_1.__extends(PDFWidgetAnnotation, _super);\n  function PDFWidgetAnnotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PDFWidgetAnnotation.prototype.MK = function () {\n    var MK = this.dict.lookup(PDFName_1.default.of('MK'));\n    if (MK instanceof PDFDict_1.default) return MK;\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.BS = function () {\n    var BS = this.dict.lookup(PDFName_1.default.of('BS'));\n    if (BS instanceof PDFDict_1.default) return BS;\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.DA = function () {\n    var da = this.dict.lookup(PDFName_1.default.of('DA'));\n    if (da instanceof PDFString_1.default || da instanceof PDFHexString_1.default) return da;\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.P = function () {\n    var P = this.dict.get(PDFName_1.default.of('P'));\n    if (P instanceof PDFRef_1.default) return P;\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.setP = function (page) {\n    this.dict.set(PDFName_1.default.of('P'), page);\n  };\n  PDFWidgetAnnotation.prototype.setDefaultAppearance = function (appearance) {\n    this.dict.set(PDFName_1.default.of('DA'), PDFString_1.default.of(appearance));\n  };\n  PDFWidgetAnnotation.prototype.getDefaultAppearance = function () {\n    var DA = this.DA();\n    if (DA instanceof PDFHexString_1.default) {\n      return DA.decodeText();\n    }\n    return DA === null || DA === void 0 ? void 0 : DA.asString();\n  };\n  PDFWidgetAnnotation.prototype.getAppearanceCharacteristics = function () {\n    var MK = this.MK();\n    if (MK) return AppearanceCharacteristics_1.default.fromDict(MK);\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.getOrCreateAppearanceCharacteristics = function () {\n    var MK = this.MK();\n    if (MK) return AppearanceCharacteristics_1.default.fromDict(MK);\n    var ac = AppearanceCharacteristics_1.default.fromDict(this.dict.context.obj({}));\n    this.dict.set(PDFName_1.default.of('MK'), ac.dict);\n    return ac;\n  };\n  PDFWidgetAnnotation.prototype.getBorderStyle = function () {\n    var BS = this.BS();\n    if (BS) return BorderStyle_1.default.fromDict(BS);\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.getOrCreateBorderStyle = function () {\n    var BS = this.BS();\n    if (BS) return BorderStyle_1.default.fromDict(BS);\n    var bs = BorderStyle_1.default.fromDict(this.dict.context.obj({}));\n    this.dict.set(PDFName_1.default.of('BS'), bs.dict);\n    return bs;\n  };\n  PDFWidgetAnnotation.prototype.getOnValue = function () {\n    var _a;\n    var normal = (_a = this.getAppearances()) === null || _a === void 0 ? void 0 : _a.normal;\n    if (normal instanceof PDFDict_1.default) {\n      var keys = normal.keys();\n      for (var idx = 0, len = keys.length; idx < len; idx++) {\n        var key = keys[idx];\n        if (key !== PDFName_1.default.of('Off')) return key;\n      }\n    }\n    return undefined;\n  };\n  PDFWidgetAnnotation.fromDict = function (dict) {\n    return new PDFWidgetAnnotation(dict);\n  };\n  PDFWidgetAnnotation.create = function (context, parent) {\n    var dict = context.obj({\n      Type: 'Annot',\n      Subtype: 'Widget',\n      Rect: [0, 0, 0, 0],\n      Parent: parent\n    });\n    return new PDFWidgetAnnotation(dict);\n  };\n  return PDFWidgetAnnotation;\n}(PDFAnnotation_1.default);\nexports.default = PDFWidgetAnnotation;","map":{"version":3,"names":["PDFDict_1","tslib_1","__importDefault","require","PDFName_1","PDFRef_1","PDFString_1","PDFHexString_1","BorderStyle_1","PDFAnnotation_1","AppearanceCharacteristics_1","PDFWidgetAnnotation","_super","__extends","prototype","MK","dict","lookup","default","of","undefined","BS","DA","da","P","get","setP","page","set","setDefaultAppearance","appearance","getDefaultAppearance","decodeText","asString","getAppearanceCharacteristics","fromDict","getOrCreateAppearanceCharacteristics","ac","context","obj","getBorderStyle","getOrCreateBorderStyle","bs","getOnValue","normal","_a","getAppearances","keys","idx","len","length","key","create","parent","Type","Subtype","Rect","Parent","exports"],"sources":["/Users/casarulez/Projects/Liquid-neurons/database_forms/data_entry_forms/node_modules/pdf-lib/src/core/annotation/PDFWidgetAnnotation.ts"],"sourcesContent":["import PDFDict from 'src/core/objects/PDFDict';\nimport PDFName from 'src/core/objects/PDFName';\nimport PDFRef from 'src/core/objects/PDFRef';\nimport PDFString from 'src/core/objects/PDFString';\nimport PDFHexString from 'src/core/objects/PDFHexString';\nimport PDFContext from 'src/core/PDFContext';\nimport BorderStyle from 'src/core/annotation/BorderStyle';\nimport PDFAnnotation from 'src/core/annotation/PDFAnnotation';\nimport AppearanceCharacteristics from 'src/core/annotation/AppearanceCharacteristics';\n\nclass PDFWidgetAnnotation extends PDFAnnotation {\n  static fromDict = (dict: PDFDict): PDFWidgetAnnotation =>\n    new PDFWidgetAnnotation(dict);\n\n  static create = (context: PDFContext, parent: PDFRef) => {\n    const dict = context.obj({\n      Type: 'Annot',\n      Subtype: 'Widget',\n      Rect: [0, 0, 0, 0],\n      Parent: parent,\n    });\n    return new PDFWidgetAnnotation(dict);\n  };\n\n  MK(): PDFDict | undefined {\n    const MK = this.dict.lookup(PDFName.of('MK'));\n    if (MK instanceof PDFDict) return MK;\n    return undefined;\n  }\n\n  BS(): PDFDict | undefined {\n    const BS = this.dict.lookup(PDFName.of('BS'));\n    if (BS instanceof PDFDict) return BS;\n    return undefined;\n  }\n\n  DA(): PDFString | PDFHexString | undefined {\n    const da = this.dict.lookup(PDFName.of('DA'));\n    if (da instanceof PDFString || da instanceof PDFHexString) return da;\n    return undefined;\n  }\n\n  P(): PDFRef | undefined {\n    const P = this.dict.get(PDFName.of('P'));\n    if (P instanceof PDFRef) return P;\n    return undefined;\n  }\n\n  setP(page: PDFRef) {\n    this.dict.set(PDFName.of('P'), page);\n  }\n\n  setDefaultAppearance(appearance: string) {\n    this.dict.set(PDFName.of('DA'), PDFString.of(appearance));\n  }\n\n  getDefaultAppearance(): string | undefined {\n    const DA = this.DA();\n\n    if (DA instanceof PDFHexString) {\n      return DA.decodeText();\n    }\n\n    return DA?.asString();\n  }\n\n  getAppearanceCharacteristics(): AppearanceCharacteristics | undefined {\n    const MK = this.MK();\n    if (MK) return AppearanceCharacteristics.fromDict(MK);\n    return undefined;\n  }\n\n  getOrCreateAppearanceCharacteristics(): AppearanceCharacteristics {\n    const MK = this.MK();\n    if (MK) return AppearanceCharacteristics.fromDict(MK);\n\n    const ac = AppearanceCharacteristics.fromDict(this.dict.context.obj({}));\n    this.dict.set(PDFName.of('MK'), ac.dict);\n    return ac;\n  }\n\n  getBorderStyle(): BorderStyle | undefined {\n    const BS = this.BS();\n    if (BS) return BorderStyle.fromDict(BS);\n    return undefined;\n  }\n\n  getOrCreateBorderStyle(): BorderStyle {\n    const BS = this.BS();\n    if (BS) return BorderStyle.fromDict(BS);\n\n    const bs = BorderStyle.fromDict(this.dict.context.obj({}));\n    this.dict.set(PDFName.of('BS'), bs.dict);\n    return bs;\n  }\n\n  getOnValue(): PDFName | undefined {\n    const normal = this.getAppearances()?.normal;\n\n    if (normal instanceof PDFDict) {\n      const keys = normal.keys();\n      for (let idx = 0, len = keys.length; idx < len; idx++) {\n        const key = keys[idx];\n        if (key !== PDFName.of('Off')) return key;\n      }\n    }\n\n    return undefined;\n  }\n}\n\nexport default PDFWidgetAnnotation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}