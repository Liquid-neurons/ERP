{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar pako_1 = tslib_1.__importDefault(require(\"pako\"));\nvar PDFHeader_1 = tslib_1.__importDefault(require(\"./document/PDFHeader\"));\nvar errors_1 = require(\"./errors\");\nvar PDFArray_1 = tslib_1.__importDefault(require(\"./objects/PDFArray\"));\nvar PDFBool_1 = tslib_1.__importDefault(require(\"./objects/PDFBool\"));\nvar PDFDict_1 = tslib_1.__importDefault(require(\"./objects/PDFDict\"));\nvar PDFName_1 = tslib_1.__importDefault(require(\"./objects/PDFName\"));\nvar PDFNull_1 = tslib_1.__importDefault(require(\"./objects/PDFNull\"));\nvar PDFNumber_1 = tslib_1.__importDefault(require(\"./objects/PDFNumber\"));\nvar PDFObject_1 = tslib_1.__importDefault(require(\"./objects/PDFObject\"));\nvar PDFRawStream_1 = tslib_1.__importDefault(require(\"./objects/PDFRawStream\"));\nvar PDFRef_1 = tslib_1.__importDefault(require(\"./objects/PDFRef\"));\nvar PDFOperator_1 = tslib_1.__importDefault(require(\"./operators/PDFOperator\"));\nvar PDFOperatorNames_1 = tslib_1.__importDefault(require(\"./operators/PDFOperatorNames\"));\nvar PDFContentStream_1 = tslib_1.__importDefault(require(\"./structures/PDFContentStream\"));\nvar utils_1 = require(\"../utils\");\nvar rng_1 = require(\"../utils/rng\");\nvar byAscendingObjectNumber = function (_a, _b) {\n  var a = _a[0];\n  var b = _b[0];\n  return a.objectNumber - b.objectNumber;\n};\nvar PDFContext = /** @class */function () {\n  function PDFContext() {\n    this.largestObjectNumber = 0;\n    this.header = PDFHeader_1.default.forVersion(1, 7);\n    this.trailerInfo = {};\n    this.indirectObjects = new Map();\n    this.rng = rng_1.SimpleRNG.withSeed(1);\n  }\n  PDFContext.prototype.assign = function (ref, object) {\n    this.indirectObjects.set(ref, object);\n    if (ref.objectNumber > this.largestObjectNumber) {\n      this.largestObjectNumber = ref.objectNumber;\n    }\n  };\n  PDFContext.prototype.nextRef = function () {\n    this.largestObjectNumber += 1;\n    return PDFRef_1.default.of(this.largestObjectNumber);\n  };\n  PDFContext.prototype.register = function (object) {\n    var ref = this.nextRef();\n    this.assign(ref, object);\n    return ref;\n  };\n  PDFContext.prototype.delete = function (ref) {\n    return this.indirectObjects.delete(ref);\n  };\n  PDFContext.prototype.lookupMaybe = function (ref) {\n    var types = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      types[_i - 1] = arguments[_i];\n    }\n    // TODO: `preservePDFNull` is for backwards compatibility. Should be\n    // removed in next breaking API change.\n    var preservePDFNull = types.includes(PDFNull_1.default);\n    var result = ref instanceof PDFRef_1.default ? this.indirectObjects.get(ref) : ref;\n    if (!result || result === PDFNull_1.default && !preservePDFNull) return undefined;\n    for (var idx = 0, len = types.length; idx < len; idx++) {\n      var type = types[idx];\n      if (type === PDFNull_1.default) {\n        if (result === PDFNull_1.default) return result;\n      } else {\n        if (result instanceof type) return result;\n      }\n    }\n    throw new errors_1.UnexpectedObjectTypeError(types, result);\n  };\n  PDFContext.prototype.lookup = function (ref) {\n    var types = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      types[_i - 1] = arguments[_i];\n    }\n    var result = ref instanceof PDFRef_1.default ? this.indirectObjects.get(ref) : ref;\n    if (types.length === 0) return result;\n    for (var idx = 0, len = types.length; idx < len; idx++) {\n      var type = types[idx];\n      if (type === PDFNull_1.default) {\n        if (result === PDFNull_1.default) return result;\n      } else {\n        if (result instanceof type) return result;\n      }\n    }\n    throw new errors_1.UnexpectedObjectTypeError(types, result);\n  };\n  PDFContext.prototype.getObjectRef = function (pdfObject) {\n    var entries = Array.from(this.indirectObjects.entries());\n    for (var idx = 0, len = entries.length; idx < len; idx++) {\n      var _a = entries[idx],\n        ref = _a[0],\n        object = _a[1];\n      if (object === pdfObject) {\n        return ref;\n      }\n    }\n    return undefined;\n  };\n  PDFContext.prototype.enumerateIndirectObjects = function () {\n    return Array.from(this.indirectObjects.entries()).sort(byAscendingObjectNumber);\n  };\n  PDFContext.prototype.obj = function (literal) {\n    if (literal instanceof PDFObject_1.default) {\n      return literal;\n    } else if (literal === null || literal === undefined) {\n      return PDFNull_1.default;\n    } else if (typeof literal === 'string') {\n      return PDFName_1.default.of(literal);\n    } else if (typeof literal === 'number') {\n      return PDFNumber_1.default.of(literal);\n    } else if (typeof literal === 'boolean') {\n      return literal ? PDFBool_1.default.True : PDFBool_1.default.False;\n    } else if (Array.isArray(literal)) {\n      var array = PDFArray_1.default.withContext(this);\n      for (var idx = 0, len = literal.length; idx < len; idx++) {\n        array.push(this.obj(literal[idx]));\n      }\n      return array;\n    } else {\n      var dict = PDFDict_1.default.withContext(this);\n      var keys = Object.keys(literal);\n      for (var idx = 0, len = keys.length; idx < len; idx++) {\n        var key = keys[idx];\n        var value = literal[key];\n        if (value !== undefined) dict.set(PDFName_1.default.of(key), this.obj(value));\n      }\n      return dict;\n    }\n  };\n  PDFContext.prototype.stream = function (contents, dict) {\n    if (dict === void 0) {\n      dict = {};\n    }\n    return PDFRawStream_1.default.of(this.obj(dict), utils_1.typedArrayFor(contents));\n  };\n  PDFContext.prototype.flateStream = function (contents, dict) {\n    if (dict === void 0) {\n      dict = {};\n    }\n    return this.stream(pako_1.default.deflate(utils_1.typedArrayFor(contents)), tslib_1.__assign(tslib_1.__assign({}, dict), {\n      Filter: 'FlateDecode'\n    }));\n  };\n  PDFContext.prototype.contentStream = function (operators, dict) {\n    if (dict === void 0) {\n      dict = {};\n    }\n    return PDFContentStream_1.default.of(this.obj(dict), operators);\n  };\n  PDFContext.prototype.formXObject = function (operators, dict) {\n    if (dict === void 0) {\n      dict = {};\n    }\n    return this.contentStream(operators, tslib_1.__assign(tslib_1.__assign({\n      BBox: this.obj([0, 0, 0, 0]),\n      Matrix: this.obj([1, 0, 0, 1, 0, 0])\n    }, dict), {\n      Type: 'XObject',\n      Subtype: 'Form'\n    }));\n  };\n  /*\n   * Reference to PDFContentStream that contains a single PDFOperator: `q`.\n   * Used by [[PDFPageLeaf]] instances to ensure that when content streams are\n   * added to a modified PDF, they start in the default, unchanged graphics\n   * state.\n   */\n  PDFContext.prototype.getPushGraphicsStateContentStream = function () {\n    if (this.pushGraphicsStateContentStreamRef) {\n      return this.pushGraphicsStateContentStreamRef;\n    }\n    var dict = this.obj({});\n    var op = PDFOperator_1.default.of(PDFOperatorNames_1.default.PushGraphicsState);\n    var stream = PDFContentStream_1.default.of(dict, [op]);\n    this.pushGraphicsStateContentStreamRef = this.register(stream);\n    return this.pushGraphicsStateContentStreamRef;\n  };\n  /*\n   * Reference to PDFContentStream that contains a single PDFOperator: `Q`.\n   * Used by [[PDFPageLeaf]] instances to ensure that when content streams are\n   * added to a modified PDF, they start in the default, unchanged graphics\n   * state.\n   */\n  PDFContext.prototype.getPopGraphicsStateContentStream = function () {\n    if (this.popGraphicsStateContentStreamRef) {\n      return this.popGraphicsStateContentStreamRef;\n    }\n    var dict = this.obj({});\n    var op = PDFOperator_1.default.of(PDFOperatorNames_1.default.PopGraphicsState);\n    var stream = PDFContentStream_1.default.of(dict, [op]);\n    this.popGraphicsStateContentStreamRef = this.register(stream);\n    return this.popGraphicsStateContentStreamRef;\n  };\n  PDFContext.prototype.addRandomSuffix = function (prefix, suffixLength) {\n    if (suffixLength === void 0) {\n      suffixLength = 4;\n    }\n    return prefix + \"-\" + Math.floor(this.rng.nextInt() * Math.pow(10, suffixLength));\n  };\n  PDFContext.create = function () {\n    return new PDFContext();\n  };\n  return PDFContext;\n}();\nexports.default = PDFContext;","map":{"version":3,"names":["pako_1","tslib_1","__importDefault","require","PDFHeader_1","errors_1","PDFArray_1","PDFBool_1","PDFDict_1","PDFName_1","PDFNull_1","PDFNumber_1","PDFObject_1","PDFRawStream_1","PDFRef_1","PDFOperator_1","PDFOperatorNames_1","PDFContentStream_1","utils_1","rng_1","byAscendingObjectNumber","_a","_b","a","b","objectNumber","PDFContext","largestObjectNumber","header","default","forVersion","trailerInfo","indirectObjects","Map","rng","SimpleRNG","withSeed","prototype","assign","ref","object","set","nextRef","of","register","delete","lookupMaybe","types","_i","arguments","length","preservePDFNull","includes","result","get","undefined","idx","len","type","UnexpectedObjectTypeError","lookup","getObjectRef","pdfObject","entries","Array","from","enumerateIndirectObjects","sort","obj","literal","True","False","isArray","array","withContext","push","dict","keys","Object","key","value","stream","contents","typedArrayFor","flateStream","deflate","__assign","Filter","contentStream","operators","formXObject","BBox","Matrix","Type","Subtype","getPushGraphicsStateContentStream","pushGraphicsStateContentStreamRef","op","PushGraphicsState","getPopGraphicsStateContentStream","popGraphicsStateContentStreamRef","PopGraphicsState","addRandomSuffix","prefix","suffixLength","Math","floor","nextInt","pow","create","exports"],"sources":["/Users/casarulez/Projects/Liquid-neurons/database_forms/data_entry_forms/node_modules/pdf-lib/src/core/PDFContext.ts"],"sourcesContent":["import pako from 'pako';\n\nimport PDFHeader from 'src/core/document/PDFHeader';\nimport { UnexpectedObjectTypeError } from 'src/core/errors';\nimport PDFArray from 'src/core/objects/PDFArray';\nimport PDFBool from 'src/core/objects/PDFBool';\nimport PDFDict from 'src/core/objects/PDFDict';\nimport PDFHexString from 'src/core/objects/PDFHexString';\nimport PDFName from 'src/core/objects/PDFName';\nimport PDFNull from 'src/core/objects/PDFNull';\nimport PDFNumber from 'src/core/objects/PDFNumber';\nimport PDFObject from 'src/core/objects/PDFObject';\nimport PDFRawStream from 'src/core/objects/PDFRawStream';\nimport PDFRef from 'src/core/objects/PDFRef';\nimport PDFStream from 'src/core/objects/PDFStream';\nimport PDFString from 'src/core/objects/PDFString';\nimport PDFOperator from 'src/core/operators/PDFOperator';\nimport Ops from 'src/core/operators/PDFOperatorNames';\nimport PDFContentStream from 'src/core/structures/PDFContentStream';\nimport { typedArrayFor } from 'src/utils';\nimport { SimpleRNG } from 'src/utils/rng';\n\ntype LookupKey = PDFRef | PDFObject | undefined;\n\ninterface LiteralObject {\n  [name: string]: Literal | PDFObject;\n}\n\ninterface LiteralArray {\n  [index: number]: Literal | PDFObject;\n}\n\ntype Literal =\n  | LiteralObject\n  | LiteralArray\n  | string\n  | number\n  | boolean\n  | null\n  | undefined;\n\nconst byAscendingObjectNumber = (\n  [a]: [PDFRef, PDFObject],\n  [b]: [PDFRef, PDFObject],\n) => a.objectNumber - b.objectNumber;\n\nclass PDFContext {\n  static create = () => new PDFContext();\n\n  largestObjectNumber: number;\n  header: PDFHeader;\n  trailerInfo: {\n    Root?: PDFObject;\n    Encrypt?: PDFObject;\n    Info?: PDFObject;\n    ID?: PDFObject;\n  };\n  rng: SimpleRNG;\n\n  private readonly indirectObjects: Map<PDFRef, PDFObject>;\n\n  private pushGraphicsStateContentStreamRef?: PDFRef;\n  private popGraphicsStateContentStreamRef?: PDFRef;\n\n  private constructor() {\n    this.largestObjectNumber = 0;\n    this.header = PDFHeader.forVersion(1, 7);\n    this.trailerInfo = {};\n\n    this.indirectObjects = new Map();\n    this.rng = SimpleRNG.withSeed(1);\n  }\n\n  assign(ref: PDFRef, object: PDFObject): void {\n    this.indirectObjects.set(ref, object);\n    if (ref.objectNumber > this.largestObjectNumber) {\n      this.largestObjectNumber = ref.objectNumber;\n    }\n  }\n\n  nextRef(): PDFRef {\n    this.largestObjectNumber += 1;\n    return PDFRef.of(this.largestObjectNumber);\n  }\n\n  register(object: PDFObject): PDFRef {\n    const ref = this.nextRef();\n    this.assign(ref, object);\n    return ref;\n  }\n\n  delete(ref: PDFRef): boolean {\n    return this.indirectObjects.delete(ref);\n  }\n\n  lookupMaybe(ref: LookupKey, type: typeof PDFArray): PDFArray | undefined;\n  lookupMaybe(ref: LookupKey, type: typeof PDFBool): PDFBool | undefined;\n  lookupMaybe(ref: LookupKey, type: typeof PDFDict): PDFDict | undefined;\n  lookupMaybe(\n    ref: LookupKey,\n    type: typeof PDFHexString,\n  ): PDFHexString | undefined;\n  lookupMaybe(ref: LookupKey, type: typeof PDFName): PDFName | undefined;\n  lookupMaybe(ref: LookupKey, type: typeof PDFNull): typeof PDFNull | undefined;\n  lookupMaybe(ref: LookupKey, type: typeof PDFNumber): PDFNumber | undefined;\n  lookupMaybe(ref: LookupKey, type: typeof PDFStream): PDFStream | undefined;\n  lookupMaybe(ref: LookupKey, type: typeof PDFRef): PDFRef | undefined;\n  lookupMaybe(ref: LookupKey, type: typeof PDFString): PDFString | undefined;\n  lookupMaybe(\n    ref: LookupKey,\n    type1: typeof PDFString,\n    type2: typeof PDFHexString,\n  ): PDFString | PDFHexString | undefined;\n\n  lookupMaybe(ref: LookupKey, ...types: any[]) {\n    // TODO: `preservePDFNull` is for backwards compatibility. Should be\n    // removed in next breaking API change.\n    const preservePDFNull = types.includes(PDFNull);\n\n    const result = ref instanceof PDFRef ? this.indirectObjects.get(ref) : ref;\n\n    if (!result || (result === PDFNull && !preservePDFNull)) return undefined;\n\n    for (let idx = 0, len = types.length; idx < len; idx++) {\n      const type = types[idx];\n      if (type === PDFNull) {\n        if (result === PDFNull) return result;\n      } else {\n        if (result instanceof type) return result;\n      }\n    }\n    throw new UnexpectedObjectTypeError(types, result);\n  }\n\n  lookup(ref: LookupKey): PDFObject | undefined;\n  lookup(ref: LookupKey, type: typeof PDFArray): PDFArray;\n  lookup(ref: LookupKey, type: typeof PDFBool): PDFBool;\n  lookup(ref: LookupKey, type: typeof PDFDict): PDFDict;\n  lookup(ref: LookupKey, type: typeof PDFHexString): PDFHexString;\n  lookup(ref: LookupKey, type: typeof PDFName): PDFName;\n  lookup(ref: LookupKey, type: typeof PDFNull): typeof PDFNull;\n  lookup(ref: LookupKey, type: typeof PDFNumber): PDFNumber;\n  lookup(ref: LookupKey, type: typeof PDFStream): PDFStream;\n  lookup(ref: LookupKey, type: typeof PDFRef): PDFRef;\n  lookup(ref: LookupKey, type: typeof PDFString): PDFString;\n  lookup(\n    ref: LookupKey,\n    type1: typeof PDFString,\n    type2: typeof PDFHexString,\n  ): PDFString | PDFHexString;\n\n  lookup(ref: LookupKey, ...types: any[]) {\n    const result = ref instanceof PDFRef ? this.indirectObjects.get(ref) : ref;\n\n    if (types.length === 0) return result;\n\n    for (let idx = 0, len = types.length; idx < len; idx++) {\n      const type = types[idx];\n      if (type === PDFNull) {\n        if (result === PDFNull) return result;\n      } else {\n        if (result instanceof type) return result;\n      }\n    }\n\n    throw new UnexpectedObjectTypeError(types, result);\n  }\n\n  getObjectRef(pdfObject: PDFObject): PDFRef | undefined {\n    const entries = Array.from(this.indirectObjects.entries());\n    for (let idx = 0, len = entries.length; idx < len; idx++) {\n      const [ref, object] = entries[idx];\n      if (object === pdfObject) {\n        return ref;\n      }\n    }\n\n    return undefined;\n  }\n\n  enumerateIndirectObjects(): [PDFRef, PDFObject][] {\n    return Array.from(this.indirectObjects.entries()).sort(\n      byAscendingObjectNumber,\n    );\n  }\n\n  obj(literal: null | undefined): typeof PDFNull;\n  obj(literal: string): PDFName;\n  obj(literal: number): PDFNumber;\n  obj(literal: boolean): PDFBool;\n  obj(literal: LiteralObject): PDFDict;\n  obj(literal: LiteralArray): PDFArray;\n\n  obj(literal: Literal) {\n    if (literal instanceof PDFObject) {\n      return literal;\n    } else if (literal === null || literal === undefined) {\n      return PDFNull;\n    } else if (typeof literal === 'string') {\n      return PDFName.of(literal);\n    } else if (typeof literal === 'number') {\n      return PDFNumber.of(literal);\n    } else if (typeof literal === 'boolean') {\n      return literal ? PDFBool.True : PDFBool.False;\n    } else if (Array.isArray(literal)) {\n      const array = PDFArray.withContext(this);\n      for (let idx = 0, len = literal.length; idx < len; idx++) {\n        array.push(this.obj(literal[idx]));\n      }\n      return array;\n    } else {\n      const dict = PDFDict.withContext(this);\n      const keys = Object.keys(literal);\n      for (let idx = 0, len = keys.length; idx < len; idx++) {\n        const key = keys[idx];\n        const value = (literal as LiteralObject)[key] as any;\n        if (value !== undefined) dict.set(PDFName.of(key), this.obj(value));\n      }\n      return dict;\n    }\n  }\n\n  stream(\n    contents: string | Uint8Array,\n    dict: LiteralObject = {},\n  ): PDFRawStream {\n    return PDFRawStream.of(this.obj(dict), typedArrayFor(contents));\n  }\n\n  flateStream(\n    contents: string | Uint8Array,\n    dict: LiteralObject = {},\n  ): PDFRawStream {\n    return this.stream(pako.deflate(typedArrayFor(contents)), {\n      ...dict,\n      Filter: 'FlateDecode',\n    });\n  }\n\n  contentStream(\n    operators: PDFOperator[],\n    dict: LiteralObject = {},\n  ): PDFContentStream {\n    return PDFContentStream.of(this.obj(dict), operators);\n  }\n\n  formXObject(\n    operators: PDFOperator[],\n    dict: LiteralObject = {},\n  ): PDFContentStream {\n    return this.contentStream(operators, {\n      BBox: this.obj([0, 0, 0, 0]),\n      Matrix: this.obj([1, 0, 0, 1, 0, 0]),\n      ...dict,\n      Type: 'XObject',\n      Subtype: 'Form',\n    });\n  }\n\n  /*\n   * Reference to PDFContentStream that contains a single PDFOperator: `q`.\n   * Used by [[PDFPageLeaf]] instances to ensure that when content streams are\n   * added to a modified PDF, they start in the default, unchanged graphics\n   * state.\n   */\n  getPushGraphicsStateContentStream(): PDFRef {\n    if (this.pushGraphicsStateContentStreamRef) {\n      return this.pushGraphicsStateContentStreamRef;\n    }\n    const dict = this.obj({});\n    const op = PDFOperator.of(Ops.PushGraphicsState);\n    const stream = PDFContentStream.of(dict, [op]);\n    this.pushGraphicsStateContentStreamRef = this.register(stream);\n    return this.pushGraphicsStateContentStreamRef;\n  }\n\n  /*\n   * Reference to PDFContentStream that contains a single PDFOperator: `Q`.\n   * Used by [[PDFPageLeaf]] instances to ensure that when content streams are\n   * added to a modified PDF, they start in the default, unchanged graphics\n   * state.\n   */\n  getPopGraphicsStateContentStream(): PDFRef {\n    if (this.popGraphicsStateContentStreamRef) {\n      return this.popGraphicsStateContentStreamRef;\n    }\n    const dict = this.obj({});\n    const op = PDFOperator.of(Ops.PopGraphicsState);\n    const stream = PDFContentStream.of(dict, [op]);\n    this.popGraphicsStateContentStreamRef = this.register(stream);\n    return this.popGraphicsStateContentStreamRef;\n  }\n\n  addRandomSuffix(prefix: string, suffixLength = 4): string {\n    return `${prefix}-${Math.floor(this.rng.nextInt() * 10 ** suffixLength)}`;\n  }\n}\n\nexport default PDFContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}