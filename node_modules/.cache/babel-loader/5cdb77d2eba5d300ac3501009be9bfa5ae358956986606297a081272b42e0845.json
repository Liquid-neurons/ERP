{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Duplex = exports.PrintScaling = exports.ReadingDirection = exports.NonFullScreenPageMode = void 0;\nvar tslib_1 = require(\"tslib\");\nvar PDFArray_1 = tslib_1.__importDefault(require(\"../objects/PDFArray\"));\nvar PDFBool_1 = tslib_1.__importDefault(require(\"../objects/PDFBool\"));\nvar PDFName_1 = tslib_1.__importDefault(require(\"../objects/PDFName\"));\nvar PDFNumber_1 = tslib_1.__importDefault(require(\"../objects/PDFNumber\"));\nvar utils_1 = require(\"../../utils\");\nvar asEnum = function (rawValue, enumType) {\n  if (rawValue === undefined) return undefined;\n  return enumType[rawValue];\n};\nvar NonFullScreenPageMode;\n(function (NonFullScreenPageMode) {\n  /**\n   * After exiting FullScreen mode, neither the document outline nor thumbnail\n   * images should be visible.\n   */\n  NonFullScreenPageMode[\"UseNone\"] = \"UseNone\";\n  /** After exiting FullScreen mode, the document outline should be visible. */\n  NonFullScreenPageMode[\"UseOutlines\"] = \"UseOutlines\";\n  /** After exiting FullScreen mode, thumbnail images should be visible. */\n  NonFullScreenPageMode[\"UseThumbs\"] = \"UseThumbs\";\n  /**\n   * After exiting FullScreen mode, the optional content group panel should be\n   * visible.\n   */\n  NonFullScreenPageMode[\"UseOC\"] = \"UseOC\";\n})(NonFullScreenPageMode = exports.NonFullScreenPageMode || (exports.NonFullScreenPageMode = {}));\nvar ReadingDirection;\n(function (ReadingDirection) {\n  /** The predominant reading order is Left to Right. */\n  ReadingDirection[\"L2R\"] = \"L2R\";\n  /**\n   * The predominant reading order is Right to left (including vertical writing\n   * systems, such as Chinese, Japanese and Korean).\n   */\n  ReadingDirection[\"R2L\"] = \"R2L\";\n})(ReadingDirection = exports.ReadingDirection || (exports.ReadingDirection = {}));\nvar PrintScaling;\n(function (PrintScaling) {\n  /** No page scaling. */\n  PrintScaling[\"None\"] = \"None\";\n  /* Use the PDF reader's default print scaling. */\n  PrintScaling[\"AppDefault\"] = \"AppDefault\";\n})(PrintScaling = exports.PrintScaling || (exports.PrintScaling = {}));\nvar Duplex;\n(function (Duplex) {\n  /** The PDF reader should print single-sided. */\n  Duplex[\"Simplex\"] = \"Simplex\";\n  /**\n   * The PDF reader should print double sided and flip on the short edge of the\n   * sheet.\n   */\n  Duplex[\"DuplexFlipShortEdge\"] = \"DuplexFlipShortEdge\";\n  /**\n   * The PDF reader should print double sided and flip on the long edge of the\n   * sheet.\n   */\n  Duplex[\"DuplexFlipLongEdge\"] = \"DuplexFlipLongEdge\";\n})(Duplex = exports.Duplex || (exports.Duplex = {}));\nvar ViewerPreferences = /** @class */function () {\n  /** @ignore */\n  function ViewerPreferences(dict) {\n    this.dict = dict;\n  }\n  ViewerPreferences.prototype.lookupBool = function (key) {\n    var returnObj = this.dict.lookup(PDFName_1.default.of(key));\n    if (returnObj instanceof PDFBool_1.default) return returnObj;\n    return undefined;\n  };\n  ViewerPreferences.prototype.lookupName = function (key) {\n    var returnObj = this.dict.lookup(PDFName_1.default.of(key));\n    if (returnObj instanceof PDFName_1.default) return returnObj;\n    return undefined;\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.HideToolbar = function () {\n    return this.lookupBool('HideToolbar');\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.HideMenubar = function () {\n    return this.lookupBool('HideMenubar');\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.HideWindowUI = function () {\n    return this.lookupBool('HideWindowUI');\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.FitWindow = function () {\n    return this.lookupBool('FitWindow');\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.CenterWindow = function () {\n    return this.lookupBool('CenterWindow');\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.DisplayDocTitle = function () {\n    return this.lookupBool('DisplayDocTitle');\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.NonFullScreenPageMode = function () {\n    return this.lookupName('NonFullScreenPageMode');\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.Direction = function () {\n    return this.lookupName('Direction');\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.PrintScaling = function () {\n    return this.lookupName('PrintScaling');\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.Duplex = function () {\n    return this.lookupName('Duplex');\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.PickTrayByPDFSize = function () {\n    return this.lookupBool('PickTrayByPDFSize');\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.PrintPageRange = function () {\n    var PrintPageRange = this.dict.lookup(PDFName_1.default.of('PrintPageRange'));\n    if (PrintPageRange instanceof PDFArray_1.default) return PrintPageRange;\n    return undefined;\n  };\n  /** @ignore */\n  ViewerPreferences.prototype.NumCopies = function () {\n    var NumCopies = this.dict.lookup(PDFName_1.default.of('NumCopies'));\n    if (NumCopies instanceof PDFNumber_1.default) return NumCopies;\n    return undefined;\n  };\n  /**\n   * Returns `true` if PDF readers should hide the toolbar menus when displaying\n   * this document.\n   * @returns Whether or not toolbars should be hidden.\n   */\n  ViewerPreferences.prototype.getHideToolbar = function () {\n    var _a, _b;\n    return (_b = (_a = this.HideToolbar()) === null || _a === void 0 ? void 0 : _a.asBoolean()) !== null && _b !== void 0 ? _b : false;\n  };\n  /**\n   * Returns `true` if PDF readers should hide the menu bar when displaying this\n   * document.\n   * @returns Whether or not the menu bar should be hidden.\n   */\n  ViewerPreferences.prototype.getHideMenubar = function () {\n    var _a, _b;\n    return (_b = (_a = this.HideMenubar()) === null || _a === void 0 ? void 0 : _a.asBoolean()) !== null && _b !== void 0 ? _b : false;\n  };\n  /**\n   * Returns `true` if PDF readers should hide the user interface elements in\n   * the document's window (such as scroll bars and navigation controls),\n   * leaving only the document's contents displayed.\n   * @returns Whether or not user interface elements should be hidden.\n   */\n  ViewerPreferences.prototype.getHideWindowUI = function () {\n    var _a, _b;\n    return (_b = (_a = this.HideWindowUI()) === null || _a === void 0 ? void 0 : _a.asBoolean()) !== null && _b !== void 0 ? _b : false;\n  };\n  /**\n   * Returns `true` if PDF readers should resize the document's window to fit\n   * the size of the first displayed page.\n   * @returns Whether or not the window should be resized to fit.\n   */\n  ViewerPreferences.prototype.getFitWindow = function () {\n    var _a, _b;\n    return (_b = (_a = this.FitWindow()) === null || _a === void 0 ? void 0 : _a.asBoolean()) !== null && _b !== void 0 ? _b : false;\n  };\n  /**\n   * Returns `true` if PDF readers should position the document's window in the\n   * center of the screen.\n   * @returns Whether or not to center the document window.\n   */\n  ViewerPreferences.prototype.getCenterWindow = function () {\n    var _a, _b;\n    return (_b = (_a = this.CenterWindow()) === null || _a === void 0 ? void 0 : _a.asBoolean()) !== null && _b !== void 0 ? _b : false;\n  };\n  /**\n   * Returns `true` if the window's title bar should display the document\n   * `Title`, taken from the document metadata (see [[PDFDocument.getTitle]]).\n   * Returns `false` if the title bar should instead display the filename of the\n   * PDF file.\n   * @returns Whether to display the document title.\n   */\n  ViewerPreferences.prototype.getDisplayDocTitle = function () {\n    var _a, _b;\n    return (_b = (_a = this.DisplayDocTitle()) === null || _a === void 0 ? void 0 : _a.asBoolean()) !== null && _b !== void 0 ? _b : false;\n  };\n  /**\n   * Returns the page mode, which tells the PDF reader how to display the\n   * document after exiting full-screen mode.\n   * @returns The page mode after exiting full-screen mode.\n   */\n  ViewerPreferences.prototype.getNonFullScreenPageMode = function () {\n    var _a, _b;\n    var mode = (_a = this.NonFullScreenPageMode()) === null || _a === void 0 ? void 0 : _a.decodeText();\n    return (_b = asEnum(mode, NonFullScreenPageMode)) !== null && _b !== void 0 ? _b : NonFullScreenPageMode.UseNone;\n  };\n  /**\n   * Returns the predominant reading order for text.\n   * @returns The text reading order.\n   */\n  ViewerPreferences.prototype.getReadingDirection = function () {\n    var _a, _b;\n    var direction = (_a = this.Direction()) === null || _a === void 0 ? void 0 : _a.decodeText();\n    return (_b = asEnum(direction, ReadingDirection)) !== null && _b !== void 0 ? _b : ReadingDirection.L2R;\n  };\n  /**\n   * Returns the page scaling option that the PDF reader should select when the\n   * print dialog is displayed.\n   * @returns The page scaling option.\n   */\n  ViewerPreferences.prototype.getPrintScaling = function () {\n    var _a, _b;\n    var scaling = (_a = this.PrintScaling()) === null || _a === void 0 ? void 0 : _a.decodeText();\n    return (_b = asEnum(scaling, PrintScaling)) !== null && _b !== void 0 ? _b : PrintScaling.AppDefault;\n  };\n  /**\n   * Returns the paper handling option that should be used when printing the\n   * file from the print dialog.\n   * @returns The paper handling option.\n   */\n  ViewerPreferences.prototype.getDuplex = function () {\n    var _a;\n    var duplex = (_a = this.Duplex()) === null || _a === void 0 ? void 0 : _a.decodeText();\n    return asEnum(duplex, Duplex);\n  };\n  /**\n   * Returns `true` if the PDF page size should be used to select the input\n   * paper tray.\n   * @returns Whether or not the PDF page size should be used to select the\n   *          input paper tray.\n   */\n  ViewerPreferences.prototype.getPickTrayByPDFSize = function () {\n    var _a;\n    return (_a = this.PickTrayByPDFSize()) === null || _a === void 0 ? void 0 : _a.asBoolean();\n  };\n  /**\n   * Returns an array of page number ranges, which are the values used to\n   * initialize the print dialog box when the file is printed. Each range\n   * specifies the first (`start`) and last (`end`) pages in a sub-range of\n   * pages to be printed. The first page of the PDF file is denoted by 0.\n   * For example:\n   * ```js\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   * const includesPage3 = viewerPrefs\n   *   .getPrintRanges()\n   *   .some(pr => pr.start =< 2 && pr.end >= 2)\n   * if (includesPage3) console.log('printRange includes page 3')\n   * ```\n   * @returns An array of objects, each with the properties `start` and `end`,\n   *          denoting page indices. If not, specified an empty array is\n   *          returned.\n   */\n  ViewerPreferences.prototype.getPrintPageRange = function () {\n    var rng = this.PrintPageRange();\n    if (!rng) return [];\n    var pageRanges = [];\n    for (var i = 0; i < rng.size(); i += 2) {\n      // Despite the spec clearly stating that \"The first page of the PDF file\n      // shall be donoted by 1\", several test PDFs (spec 1.7) created in\n      // Acrobat XI 11.0 and also read with Reader DC 2020.013 indicate this is\n      // actually a 0 based index.\n      var start = rng.lookup(i, PDFNumber_1.default).asNumber();\n      var end = rng.lookup(i + 1, PDFNumber_1.default).asNumber();\n      pageRanges.push({\n        start: start,\n        end: end\n      });\n    }\n    return pageRanges;\n  };\n  /**\n   * Returns the number of copies to be printed when the print dialog is opened\n   * for this document.\n   * @returns The default number of copies to be printed.\n   */\n  ViewerPreferences.prototype.getNumCopies = function () {\n    var _a, _b;\n    return (_b = (_a = this.NumCopies()) === null || _a === void 0 ? void 0 : _a.asNumber()) !== null && _b !== void 0 ? _b : 1;\n  };\n  /**\n   * Choose whether the PDF reader's toolbars should be hidden while the\n   * document is active.\n   * @param hideToolbar `true` if the toolbar should be hidden.\n   */\n  ViewerPreferences.prototype.setHideToolbar = function (hideToolbar) {\n    var HideToolbar = this.dict.context.obj(hideToolbar);\n    this.dict.set(PDFName_1.default.of('HideToolbar'), HideToolbar);\n  };\n  /**\n   * Choose whether the PDF reader's menu bar should be hidden while the\n   * document is active.\n   * @param hideMenubar `true` if the menu bar should be hidden.\n   */\n  ViewerPreferences.prototype.setHideMenubar = function (hideMenubar) {\n    var HideMenubar = this.dict.context.obj(hideMenubar);\n    this.dict.set(PDFName_1.default.of('HideMenubar'), HideMenubar);\n  };\n  /**\n   * Choose whether the PDF reader should hide user interface elements in the\n   * document's window (such as scroll bars and navigation controls), leaving\n   * only the document's contents displayed.\n   * @param hideWindowUI `true` if the user interface elements should be hidden.\n   */\n  ViewerPreferences.prototype.setHideWindowUI = function (hideWindowUI) {\n    var HideWindowUI = this.dict.context.obj(hideWindowUI);\n    this.dict.set(PDFName_1.default.of('HideWindowUI'), HideWindowUI);\n  };\n  /**\n   * Choose whether the PDF reader should resize the document's window to fit\n   * the size of the first displayed page.\n   * @param fitWindow `true` if the window should be resized.\n   */\n  ViewerPreferences.prototype.setFitWindow = function (fitWindow) {\n    var FitWindow = this.dict.context.obj(fitWindow);\n    this.dict.set(PDFName_1.default.of('FitWindow'), FitWindow);\n  };\n  /**\n   * Choose whether the PDF reader should position the document's window in the\n   * center of the screen.\n   * @param centerWindow `true` if the window should be centered.\n   */\n  ViewerPreferences.prototype.setCenterWindow = function (centerWindow) {\n    var CenterWindow = this.dict.context.obj(centerWindow);\n    this.dict.set(PDFName_1.default.of('CenterWindow'), CenterWindow);\n  };\n  /**\n   * Choose whether the window's title bar should display the document `Title`\n   * taken from the document metadata (see [[PDFDocument.setTitle]]). If\n   * `false`, the title bar should instead display the PDF filename.\n   * @param displayTitle `true` if the document title should be displayed.\n   */\n  ViewerPreferences.prototype.setDisplayDocTitle = function (displayTitle) {\n    var DisplayDocTitle = this.dict.context.obj(displayTitle);\n    this.dict.set(PDFName_1.default.of('DisplayDocTitle'), DisplayDocTitle);\n  };\n  /**\n   * Choose how the PDF reader should display the document upon exiting\n   * full-screen mode. This entry is meaningful only if the value of the\n   * `PageMode` entry in the document's [[PDFCatalog]] is `FullScreen`.\n   *\n   * For example:\n   * ```js\n   * import { PDFDocument, NonFullScreenPageMode, PDFName } from 'pdf-lib'\n   *\n   * const pdfDoc = await PDFDocument.create()\n   *\n   * // Set the PageMode\n   * pdfDoc.catalog.set(PDFName.of('PageMode'),PDFName.of('FullScreen'))\n   *\n   * // Set what happens when full-screen is closed\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   * viewerPrefs.setNonFullScreenPageMode(NonFullScreenPageMode.UseOutlines)\n   * ```\n   *\n   * @param nonFullScreenPageMode How the document should be displayed upon\n   *                              exiting full screen mode.\n   */\n  ViewerPreferences.prototype.setNonFullScreenPageMode = function (nonFullScreenPageMode) {\n    utils_1.assertIsOneOf(nonFullScreenPageMode, 'nonFullScreenPageMode', NonFullScreenPageMode);\n    var mode = PDFName_1.default.of(nonFullScreenPageMode);\n    this.dict.set(PDFName_1.default.of('NonFullScreenPageMode'), mode);\n  };\n  /**\n   * Choose the predominant reading order for text.\n   *\n   * This entry has no direct effect on the document's contents or page\n   * numbering, but may be used to determine the relative positioning of pages\n   * when displayed side by side or printed n-up.\n   *\n   * For example:\n   * ```js\n   * import { PDFDocument, ReadingDirection } from 'pdf-lib'\n   *\n   * const pdfDoc = await PDFDocument.create()\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   * viewerPrefs.setReadingDirection(ReadingDirection.R2L)\n   * ```\n   *\n   * @param readingDirection The reading order for text.\n   */\n  ViewerPreferences.prototype.setReadingDirection = function (readingDirection) {\n    utils_1.assertIsOneOf(readingDirection, 'readingDirection', ReadingDirection);\n    var direction = PDFName_1.default.of(readingDirection);\n    this.dict.set(PDFName_1.default.of('Direction'), direction);\n  };\n  /**\n   * Choose the page scaling option that should be selected when a print dialog\n   * is displayed for this document.\n   *\n   * For example:\n   * ```js\n   * import { PDFDocument, PrintScaling } from 'pdf-lib'\n   *\n   * const pdfDoc = await PDFDocument.create()\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   * viewerPrefs.setPrintScaling(PrintScaling.None)\n   * ```\n   *\n   * @param printScaling The print scaling option.\n   */\n  ViewerPreferences.prototype.setPrintScaling = function (printScaling) {\n    utils_1.assertIsOneOf(printScaling, 'printScaling', PrintScaling);\n    var scaling = PDFName_1.default.of(printScaling);\n    this.dict.set(PDFName_1.default.of('PrintScaling'), scaling);\n  };\n  /**\n   * Choose the paper handling option that should be selected by default in the\n   * print dialog.\n   *\n   * For example:\n   * ```js\n   * import { PDFDocument, Duplex } from 'pdf-lib'\n   *\n   * const pdfDoc = await PDFDocument.create()\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   * viewerPrefs.setDuplex(Duplex.DuplexFlipShortEdge)\n   * ```\n   *\n   * @param duplex The double or single sided printing option.\n   */\n  ViewerPreferences.prototype.setDuplex = function (duplex) {\n    utils_1.assertIsOneOf(duplex, 'duplex', Duplex);\n    var dup = PDFName_1.default.of(duplex);\n    this.dict.set(PDFName_1.default.of('Duplex'), dup);\n  };\n  /**\n   * Choose whether the PDF document's page size should be used to select the\n   * input paper tray when printing. This setting influences only the preset\n   * values used to populate the print dialog presented by a PDF reader.\n   *\n   * If PickTrayByPDFSize is true, the check box in the print dialog associated\n   * with input paper tray should be checked. This setting has no effect on\n   * operating systems that do not provide the ability to pick the input tray\n   * by size.\n   *\n   * @param pickTrayByPDFSize `true` if the document's page size should be used\n   *                          to select the input paper tray.\n   */\n  ViewerPreferences.prototype.setPickTrayByPDFSize = function (pickTrayByPDFSize) {\n    var PickTrayByPDFSize = this.dict.context.obj(pickTrayByPDFSize);\n    this.dict.set(PDFName_1.default.of('PickTrayByPDFSize'), PickTrayByPDFSize);\n  };\n  /**\n   * Choose the page numbers used to initialize the print dialog box when the\n   * file is printed. The first page of the PDF file is denoted by 0.\n   *\n   * For example:\n   * ```js\n   * import { PDFDocument } from 'pdf-lib'\n   *\n   * const pdfDoc = await PDFDocument.create()\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   *\n   * // We can set the default print range to only the first page\n   * viewerPrefs.setPrintPageRange({ start: 0, end: 0 })\n   *\n   * // Or we can supply noncontiguous ranges (e.g. pages 1, 3, and 5-7)\n   * viewerPrefs.setPrintPageRange([\n   *   { start: 0, end: 0 },\n   *   { start: 2, end: 2 },\n   *   { start: 4, end: 6 },\n   * ])\n   * ```\n   *\n   * @param printPageRange An object or array of objects, each with the\n   *                       properties `start` and `end`, denoting a range of\n   *                       page indices.\n   */\n  ViewerPreferences.prototype.setPrintPageRange = function (printPageRange) {\n    if (!Array.isArray(printPageRange)) printPageRange = [printPageRange];\n    var flatRange = [];\n    for (var idx = 0, len = printPageRange.length; idx < len; idx++) {\n      flatRange.push(printPageRange[idx].start);\n      flatRange.push(printPageRange[idx].end);\n    }\n    utils_1.assertEachIs(flatRange, 'printPageRange', ['number']);\n    var pageRanges = this.dict.context.obj(flatRange);\n    this.dict.set(PDFName_1.default.of('PrintPageRange'), pageRanges);\n  };\n  /**\n   * Choose the default number of copies to be printed when the print dialog is\n   * opened for this file.\n   * @param numCopies The default number of copies.\n   */\n  ViewerPreferences.prototype.setNumCopies = function (numCopies) {\n    utils_1.assertRange(numCopies, 'numCopies', 1, Number.MAX_VALUE);\n    utils_1.assertInteger(numCopies, 'numCopies');\n    var NumCopies = this.dict.context.obj(numCopies);\n    this.dict.set(PDFName_1.default.of('NumCopies'), NumCopies);\n  };\n  /** @ignore */\n  ViewerPreferences.fromDict = function (dict) {\n    return new ViewerPreferences(dict);\n  };\n  /** @ignore */\n  ViewerPreferences.create = function (context) {\n    var dict = context.obj({});\n    return new ViewerPreferences(dict);\n  };\n  return ViewerPreferences;\n}();\nexports.default = ViewerPreferences;","map":{"version":3,"names":["PDFArray_1","tslib_1","__importDefault","require","PDFBool_1","PDFName_1","PDFNumber_1","utils_1","asEnum","rawValue","enumType","undefined","NonFullScreenPageMode","exports","ReadingDirection","PrintScaling","Duplex","ViewerPreferences","dict","prototype","lookupBool","key","returnObj","lookup","default","of","lookupName","HideToolbar","HideMenubar","HideWindowUI","FitWindow","CenterWindow","DisplayDocTitle","Direction","PickTrayByPDFSize","PrintPageRange","NumCopies","getHideToolbar","_b","_a","asBoolean","getHideMenubar","getHideWindowUI","getFitWindow","getCenterWindow","getDisplayDocTitle","getNonFullScreenPageMode","mode","decodeText","UseNone","getReadingDirection","direction","L2R","getPrintScaling","scaling","AppDefault","getDuplex","duplex","getPickTrayByPDFSize","getPrintPageRange","rng","pageRanges","i","size","start","asNumber","end","push","getNumCopies","setHideToolbar","hideToolbar","context","obj","set","setHideMenubar","hideMenubar","setHideWindowUI","hideWindowUI","setFitWindow","fitWindow","setCenterWindow","centerWindow","setDisplayDocTitle","displayTitle","setNonFullScreenPageMode","nonFullScreenPageMode","assertIsOneOf","setReadingDirection","readingDirection","setPrintScaling","printScaling","setDuplex","dup","setPickTrayByPDFSize","pickTrayByPDFSize","setPrintPageRange","printPageRange","Array","isArray","flatRange","idx","len","length","assertEachIs","setNumCopies","numCopies","assertRange","Number","MAX_VALUE","assertInteger","fromDict","create"],"sources":["/Users/casarulez/Projects/Liquid-neurons/database_forms/data_entry_forms/node_modules/pdf-lib/src/core/interactive/ViewerPreferences.ts"],"sourcesContent":["import PDFArray from 'src/core/objects/PDFArray';\nimport PDFBool from 'src/core/objects/PDFBool';\nimport PDFDict from 'src/core/objects/PDFDict';\nimport PDFName from 'src/core/objects/PDFName';\nimport PDFNumber from 'src/core/objects/PDFNumber';\nimport PDFContext from 'src/core/PDFContext';\nimport {\n  assertEachIs,\n  assertInteger,\n  assertIsOneOf,\n  assertRange,\n} from 'src/utils';\n\nconst asEnum = <T extends string | number, U extends { [key: string]: T }>(\n  rawValue: T | undefined,\n  enumType: U,\n): U[keyof U] | undefined => {\n  if (rawValue === undefined) return undefined;\n  return enumType[rawValue];\n};\n\nexport enum NonFullScreenPageMode {\n  /**\n   * After exiting FullScreen mode, neither the document outline nor thumbnail\n   * images should be visible.\n   */\n  UseNone = 'UseNone',\n\n  /** After exiting FullScreen mode, the document outline should be visible. */\n  UseOutlines = 'UseOutlines',\n\n  /** After exiting FullScreen mode, thumbnail images should be visible. */\n  UseThumbs = 'UseThumbs',\n\n  /**\n   * After exiting FullScreen mode, the optional content group panel should be\n   * visible.\n   */\n  UseOC = 'UseOC',\n}\n\nexport enum ReadingDirection {\n  /** The predominant reading order is Left to Right. */\n  L2R = 'L2R',\n\n  /**\n   * The predominant reading order is Right to left (including vertical writing\n   * systems, such as Chinese, Japanese and Korean).\n   */\n  R2L = 'R2L',\n}\n\nexport enum PrintScaling {\n  /** No page scaling. */\n  None = 'None',\n\n  /* Use the PDF reader's default print scaling. */\n  AppDefault = 'AppDefault',\n}\n\nexport enum Duplex {\n  /** The PDF reader should print single-sided. */\n  Simplex = 'Simplex',\n\n  /**\n   * The PDF reader should print double sided and flip on the short edge of the\n   * sheet.\n   */\n  DuplexFlipShortEdge = 'DuplexFlipShortEdge',\n\n  /**\n   * The PDF reader should print double sided and flip on the long edge of the\n   * sheet.\n   */\n  DuplexFlipLongEdge = 'DuplexFlipLongEdge',\n}\n\ntype BoolViewerPrefKey =\n  | 'HideToolbar'\n  | 'HideMenubar'\n  | 'HideWindowUI'\n  | 'FitWindow'\n  | 'CenterWindow'\n  | 'DisplayDocTitle'\n  | 'PickTrayByPDFSize';\ntype NameViewerPrefKey =\n  | 'NonFullScreenPageMode'\n  | 'Direction'\n  | 'PrintScaling'\n  | 'Duplex';\n\ninterface PageRange {\n  start: number;\n  end: number;\n}\n\nclass ViewerPreferences {\n  /** @ignore */\n  readonly dict: PDFDict;\n\n  /** @ignore */\n  static fromDict = (dict: PDFDict): ViewerPreferences =>\n    new ViewerPreferences(dict);\n\n  /** @ignore */\n  static create = (context: PDFContext) => {\n    const dict = context.obj({});\n    return new ViewerPreferences(dict);\n  };\n\n  /** @ignore */\n  protected constructor(dict: PDFDict) {\n    this.dict = dict;\n  }\n\n  protected lookupBool(key: BoolViewerPrefKey): PDFBool | undefined {\n    const returnObj = this.dict.lookup(PDFName.of(key));\n    if (returnObj instanceof PDFBool) return returnObj;\n    return undefined;\n  }\n\n  protected lookupName(key: NameViewerPrefKey): PDFName | undefined {\n    const returnObj = this.dict.lookup(PDFName.of(key));\n    if (returnObj instanceof PDFName) return returnObj;\n    return undefined;\n  }\n\n  /** @ignore */\n  HideToolbar(): PDFBool | undefined {\n    return this.lookupBool('HideToolbar');\n  }\n\n  /** @ignore */\n  HideMenubar(): PDFBool | undefined {\n    return this.lookupBool('HideMenubar');\n  }\n\n  /** @ignore */\n  HideWindowUI(): PDFBool | undefined {\n    return this.lookupBool('HideWindowUI');\n  }\n\n  /** @ignore */\n  FitWindow(): PDFBool | undefined {\n    return this.lookupBool('FitWindow');\n  }\n\n  /** @ignore */\n  CenterWindow(): PDFBool | undefined {\n    return this.lookupBool('CenterWindow');\n  }\n\n  /** @ignore */\n  DisplayDocTitle(): PDFBool | undefined {\n    return this.lookupBool('DisplayDocTitle');\n  }\n\n  /** @ignore */\n  NonFullScreenPageMode(): PDFName | undefined {\n    return this.lookupName('NonFullScreenPageMode');\n  }\n\n  /** @ignore */\n  Direction(): PDFName | undefined {\n    return this.lookupName('Direction');\n  }\n\n  /** @ignore */\n  PrintScaling(): PDFName | undefined {\n    return this.lookupName('PrintScaling');\n  }\n\n  /** @ignore */\n  Duplex(): PDFName | undefined {\n    return this.lookupName('Duplex');\n  }\n\n  /** @ignore */\n  PickTrayByPDFSize(): PDFBool | undefined {\n    return this.lookupBool('PickTrayByPDFSize');\n  }\n\n  /** @ignore */\n  PrintPageRange(): PDFArray | undefined {\n    const PrintPageRange = this.dict.lookup(PDFName.of('PrintPageRange'));\n    if (PrintPageRange instanceof PDFArray) return PrintPageRange;\n    return undefined;\n  }\n\n  /** @ignore */\n  NumCopies(): PDFNumber | undefined {\n    const NumCopies = this.dict.lookup(PDFName.of('NumCopies'));\n    if (NumCopies instanceof PDFNumber) return NumCopies;\n    return undefined;\n  }\n\n  /**\n   * Returns `true` if PDF readers should hide the toolbar menus when displaying\n   * this document.\n   * @returns Whether or not toolbars should be hidden.\n   */\n  getHideToolbar(): boolean {\n    return this.HideToolbar()?.asBoolean() ?? false;\n  }\n\n  /**\n   * Returns `true` if PDF readers should hide the menu bar when displaying this\n   * document.\n   * @returns Whether or not the menu bar should be hidden.\n   */\n  getHideMenubar(): boolean {\n    return this.HideMenubar()?.asBoolean() ?? false;\n  }\n\n  /**\n   * Returns `true` if PDF readers should hide the user interface elements in\n   * the document's window (such as scroll bars and navigation controls),\n   * leaving only the document's contents displayed.\n   * @returns Whether or not user interface elements should be hidden.\n   */\n  getHideWindowUI(): boolean {\n    return this.HideWindowUI()?.asBoolean() ?? false;\n  }\n\n  /**\n   * Returns `true` if PDF readers should resize the document's window to fit\n   * the size of the first displayed page.\n   * @returns Whether or not the window should be resized to fit.\n   */\n  getFitWindow(): boolean {\n    return this.FitWindow()?.asBoolean() ?? false;\n  }\n\n  /**\n   * Returns `true` if PDF readers should position the document's window in the\n   * center of the screen.\n   * @returns Whether or not to center the document window.\n   */\n  getCenterWindow(): boolean {\n    return this.CenterWindow()?.asBoolean() ?? false;\n  }\n\n  /**\n   * Returns `true` if the window's title bar should display the document\n   * `Title`, taken from the document metadata (see [[PDFDocument.getTitle]]).\n   * Returns `false` if the title bar should instead display the filename of the\n   * PDF file.\n   * @returns Whether to display the document title.\n   */\n  getDisplayDocTitle(): boolean {\n    return this.DisplayDocTitle()?.asBoolean() ?? false;\n  }\n\n  /**\n   * Returns the page mode, which tells the PDF reader how to display the\n   * document after exiting full-screen mode.\n   * @returns The page mode after exiting full-screen mode.\n   */\n  getNonFullScreenPageMode(): NonFullScreenPageMode {\n    const mode = this.NonFullScreenPageMode()?.decodeText();\n    return asEnum(mode, NonFullScreenPageMode) ?? NonFullScreenPageMode.UseNone;\n  }\n\n  /**\n   * Returns the predominant reading order for text.\n   * @returns The text reading order.\n   */\n  getReadingDirection(): ReadingDirection {\n    const direction = this.Direction()?.decodeText();\n    return asEnum(direction, ReadingDirection) ?? ReadingDirection.L2R;\n  }\n\n  /**\n   * Returns the page scaling option that the PDF reader should select when the\n   * print dialog is displayed.\n   * @returns The page scaling option.\n   */\n  getPrintScaling(): PrintScaling {\n    const scaling = this.PrintScaling()?.decodeText();\n    return asEnum(scaling, PrintScaling) ?? PrintScaling.AppDefault;\n  }\n\n  /**\n   * Returns the paper handling option that should be used when printing the\n   * file from the print dialog.\n   * @returns The paper handling option.\n   */\n  getDuplex(): Duplex | undefined {\n    const duplex = this.Duplex()?.decodeText();\n    return asEnum(duplex, Duplex);\n  }\n\n  /**\n   * Returns `true` if the PDF page size should be used to select the input\n   * paper tray.\n   * @returns Whether or not the PDF page size should be used to select the\n   *          input paper tray.\n   */\n  getPickTrayByPDFSize(): boolean | undefined {\n    return this.PickTrayByPDFSize()?.asBoolean();\n  }\n\n  /**\n   * Returns an array of page number ranges, which are the values used to\n   * initialize the print dialog box when the file is printed. Each range\n   * specifies the first (`start`) and last (`end`) pages in a sub-range of\n   * pages to be printed. The first page of the PDF file is denoted by 0.\n   * For example:\n   * ```js\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   * const includesPage3 = viewerPrefs\n   *   .getPrintRanges()\n   *   .some(pr => pr.start =< 2 && pr.end >= 2)\n   * if (includesPage3) console.log('printRange includes page 3')\n   * ```\n   * @returns An array of objects, each with the properties `start` and `end`,\n   *          denoting page indices. If not, specified an empty array is\n   *          returned.\n   */\n  getPrintPageRange(): PageRange[] {\n    const rng = this.PrintPageRange();\n    if (!rng) return [];\n\n    const pageRanges: PageRange[] = [];\n    for (let i = 0; i < rng.size(); i += 2) {\n      // Despite the spec clearly stating that \"The first page of the PDF file\n      // shall be donoted by 1\", several test PDFs (spec 1.7) created in\n      // Acrobat XI 11.0 and also read with Reader DC 2020.013 indicate this is\n      // actually a 0 based index.\n      const start = rng.lookup(i, PDFNumber).asNumber();\n      const end = rng.lookup(i + 1, PDFNumber).asNumber();\n      pageRanges.push({ start, end });\n    }\n\n    return pageRanges;\n  }\n\n  /**\n   * Returns the number of copies to be printed when the print dialog is opened\n   * for this document.\n   * @returns The default number of copies to be printed.\n   */\n  getNumCopies(): number {\n    return this.NumCopies()?.asNumber() ?? 1;\n  }\n\n  /**\n   * Choose whether the PDF reader's toolbars should be hidden while the\n   * document is active.\n   * @param hideToolbar `true` if the toolbar should be hidden.\n   */\n  setHideToolbar(hideToolbar: boolean) {\n    const HideToolbar = this.dict.context.obj(hideToolbar);\n    this.dict.set(PDFName.of('HideToolbar'), HideToolbar);\n  }\n\n  /**\n   * Choose whether the PDF reader's menu bar should be hidden while the\n   * document is active.\n   * @param hideMenubar `true` if the menu bar should be hidden.\n   */\n  setHideMenubar(hideMenubar: boolean) {\n    const HideMenubar = this.dict.context.obj(hideMenubar);\n    this.dict.set(PDFName.of('HideMenubar'), HideMenubar);\n  }\n\n  /**\n   * Choose whether the PDF reader should hide user interface elements in the\n   * document's window (such as scroll bars and navigation controls), leaving\n   * only the document's contents displayed.\n   * @param hideWindowUI `true` if the user interface elements should be hidden.\n   */\n  setHideWindowUI(hideWindowUI: boolean) {\n    const HideWindowUI = this.dict.context.obj(hideWindowUI);\n    this.dict.set(PDFName.of('HideWindowUI'), HideWindowUI);\n  }\n\n  /**\n   * Choose whether the PDF reader should resize the document's window to fit\n   * the size of the first displayed page.\n   * @param fitWindow `true` if the window should be resized.\n   */\n  setFitWindow(fitWindow: boolean) {\n    const FitWindow = this.dict.context.obj(fitWindow);\n    this.dict.set(PDFName.of('FitWindow'), FitWindow);\n  }\n\n  /**\n   * Choose whether the PDF reader should position the document's window in the\n   * center of the screen.\n   * @param centerWindow `true` if the window should be centered.\n   */\n  setCenterWindow(centerWindow: boolean) {\n    const CenterWindow = this.dict.context.obj(centerWindow);\n    this.dict.set(PDFName.of('CenterWindow'), CenterWindow);\n  }\n\n  /**\n   * Choose whether the window's title bar should display the document `Title`\n   * taken from the document metadata (see [[PDFDocument.setTitle]]). If\n   * `false`, the title bar should instead display the PDF filename.\n   * @param displayTitle `true` if the document title should be displayed.\n   */\n  setDisplayDocTitle(displayTitle: boolean) {\n    const DisplayDocTitle = this.dict.context.obj(displayTitle);\n    this.dict.set(PDFName.of('DisplayDocTitle'), DisplayDocTitle);\n  }\n\n  /**\n   * Choose how the PDF reader should display the document upon exiting\n   * full-screen mode. This entry is meaningful only if the value of the\n   * `PageMode` entry in the document's [[PDFCatalog]] is `FullScreen`.\n   *\n   * For example:\n   * ```js\n   * import { PDFDocument, NonFullScreenPageMode, PDFName } from 'pdf-lib'\n   *\n   * const pdfDoc = await PDFDocument.create()\n   *\n   * // Set the PageMode\n   * pdfDoc.catalog.set(PDFName.of('PageMode'),PDFName.of('FullScreen'))\n   *\n   * // Set what happens when full-screen is closed\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   * viewerPrefs.setNonFullScreenPageMode(NonFullScreenPageMode.UseOutlines)\n   * ```\n   *\n   * @param nonFullScreenPageMode How the document should be displayed upon\n   *                              exiting full screen mode.\n   */\n  setNonFullScreenPageMode(nonFullScreenPageMode: NonFullScreenPageMode) {\n    assertIsOneOf(\n      nonFullScreenPageMode,\n      'nonFullScreenPageMode',\n      NonFullScreenPageMode,\n    );\n    const mode = PDFName.of(nonFullScreenPageMode);\n    this.dict.set(PDFName.of('NonFullScreenPageMode'), mode);\n  }\n\n  /**\n   * Choose the predominant reading order for text.\n   *\n   * This entry has no direct effect on the document's contents or page\n   * numbering, but may be used to determine the relative positioning of pages\n   * when displayed side by side or printed n-up.\n   *\n   * For example:\n   * ```js\n   * import { PDFDocument, ReadingDirection } from 'pdf-lib'\n   *\n   * const pdfDoc = await PDFDocument.create()\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   * viewerPrefs.setReadingDirection(ReadingDirection.R2L)\n   * ```\n   *\n   * @param readingDirection The reading order for text.\n   */\n  setReadingDirection(readingDirection: ReadingDirection) {\n    assertIsOneOf(readingDirection, 'readingDirection', ReadingDirection);\n    const direction = PDFName.of(readingDirection);\n    this.dict.set(PDFName.of('Direction'), direction);\n  }\n\n  /**\n   * Choose the page scaling option that should be selected when a print dialog\n   * is displayed for this document.\n   *\n   * For example:\n   * ```js\n   * import { PDFDocument, PrintScaling } from 'pdf-lib'\n   *\n   * const pdfDoc = await PDFDocument.create()\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   * viewerPrefs.setPrintScaling(PrintScaling.None)\n   * ```\n   *\n   * @param printScaling The print scaling option.\n   */\n  setPrintScaling(printScaling: PrintScaling) {\n    assertIsOneOf(printScaling, 'printScaling', PrintScaling);\n    const scaling = PDFName.of(printScaling);\n    this.dict.set(PDFName.of('PrintScaling'), scaling);\n  }\n\n  /**\n   * Choose the paper handling option that should be selected by default in the\n   * print dialog.\n   *\n   * For example:\n   * ```js\n   * import { PDFDocument, Duplex } from 'pdf-lib'\n   *\n   * const pdfDoc = await PDFDocument.create()\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   * viewerPrefs.setDuplex(Duplex.DuplexFlipShortEdge)\n   * ```\n   *\n   * @param duplex The double or single sided printing option.\n   */\n  setDuplex(duplex: Duplex) {\n    assertIsOneOf(duplex, 'duplex', Duplex);\n    const dup = PDFName.of(duplex);\n    this.dict.set(PDFName.of('Duplex'), dup);\n  }\n\n  /**\n   * Choose whether the PDF document's page size should be used to select the\n   * input paper tray when printing. This setting influences only the preset\n   * values used to populate the print dialog presented by a PDF reader.\n   *\n   * If PickTrayByPDFSize is true, the check box in the print dialog associated\n   * with input paper tray should be checked. This setting has no effect on\n   * operating systems that do not provide the ability to pick the input tray\n   * by size.\n   *\n   * @param pickTrayByPDFSize `true` if the document's page size should be used\n   *                          to select the input paper tray.\n   */\n  setPickTrayByPDFSize(pickTrayByPDFSize: boolean) {\n    const PickTrayByPDFSize = this.dict.context.obj(pickTrayByPDFSize);\n    this.dict.set(PDFName.of('PickTrayByPDFSize'), PickTrayByPDFSize);\n  }\n\n  /**\n   * Choose the page numbers used to initialize the print dialog box when the\n   * file is printed. The first page of the PDF file is denoted by 0.\n   *\n   * For example:\n   * ```js\n   * import { PDFDocument } from 'pdf-lib'\n   *\n   * const pdfDoc = await PDFDocument.create()\n   * const viewerPrefs = pdfDoc.catalog.getOrCreateViewerPreferences()\n   *\n   * // We can set the default print range to only the first page\n   * viewerPrefs.setPrintPageRange({ start: 0, end: 0 })\n   *\n   * // Or we can supply noncontiguous ranges (e.g. pages 1, 3, and 5-7)\n   * viewerPrefs.setPrintPageRange([\n   *   { start: 0, end: 0 },\n   *   { start: 2, end: 2 },\n   *   { start: 4, end: 6 },\n   * ])\n   * ```\n   *\n   * @param printPageRange An object or array of objects, each with the\n   *                       properties `start` and `end`, denoting a range of\n   *                       page indices.\n   */\n  setPrintPageRange(printPageRange: PageRange[] | PageRange) {\n    if (!Array.isArray(printPageRange)) printPageRange = [printPageRange];\n\n    const flatRange: number[] = [];\n    for (let idx = 0, len = printPageRange.length; idx < len; idx++) {\n      flatRange.push(printPageRange[idx].start);\n      flatRange.push(printPageRange[idx].end);\n    }\n\n    assertEachIs(flatRange, 'printPageRange', ['number']);\n\n    const pageRanges = this.dict.context.obj(flatRange);\n    this.dict.set(PDFName.of('PrintPageRange'), pageRanges);\n  }\n\n  /**\n   * Choose the default number of copies to be printed when the print dialog is\n   * opened for this file.\n   * @param numCopies The default number of copies.\n   */\n  setNumCopies(numCopies: number) {\n    assertRange(numCopies, 'numCopies', 1, Number.MAX_VALUE);\n    assertInteger(numCopies, 'numCopies');\n    const NumCopies = this.dict.context.obj(numCopies);\n    this.dict.set(PDFName.of('NumCopies'), NumCopies);\n  }\n}\n\nexport default ViewerPreferences;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}