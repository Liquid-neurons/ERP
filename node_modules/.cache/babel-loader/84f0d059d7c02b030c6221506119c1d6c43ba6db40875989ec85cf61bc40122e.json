{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar PDFName_1 = tslib_1.__importDefault(require(\"../objects/PDFName\"));\nvar PDFNumber_1 = tslib_1.__importDefault(require(\"../objects/PDFNumber\"));\nvar PDFArray_1 = tslib_1.__importDefault(require(\"../objects/PDFArray\"));\nvar PDFHexString_1 = tslib_1.__importDefault(require(\"../objects/PDFHexString\"));\nvar PDFString_1 = tslib_1.__importDefault(require(\"../objects/PDFString\"));\nvar AppearanceCharacteristics = /** @class */function () {\n  function AppearanceCharacteristics(dict) {\n    this.dict = dict;\n  }\n  AppearanceCharacteristics.prototype.R = function () {\n    var R = this.dict.lookup(PDFName_1.default.of('R'));\n    if (R instanceof PDFNumber_1.default) return R;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.BC = function () {\n    var BC = this.dict.lookup(PDFName_1.default.of('BC'));\n    if (BC instanceof PDFArray_1.default) return BC;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.BG = function () {\n    var BG = this.dict.lookup(PDFName_1.default.of('BG'));\n    if (BG instanceof PDFArray_1.default) return BG;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.CA = function () {\n    var CA = this.dict.lookup(PDFName_1.default.of('CA'));\n    if (CA instanceof PDFHexString_1.default || CA instanceof PDFString_1.default) return CA;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.RC = function () {\n    var RC = this.dict.lookup(PDFName_1.default.of('RC'));\n    if (RC instanceof PDFHexString_1.default || RC instanceof PDFString_1.default) return RC;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.AC = function () {\n    var AC = this.dict.lookup(PDFName_1.default.of('AC'));\n    if (AC instanceof PDFHexString_1.default || AC instanceof PDFString_1.default) return AC;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.getRotation = function () {\n    var _a;\n    return (_a = this.R()) === null || _a === void 0 ? void 0 : _a.asNumber();\n  };\n  AppearanceCharacteristics.prototype.getBorderColor = function () {\n    var BC = this.BC();\n    if (!BC) return undefined;\n    var components = [];\n    for (var idx = 0, len = BC === null || BC === void 0 ? void 0 : BC.size(); idx < len; idx++) {\n      var component = BC.get(idx);\n      if (component instanceof PDFNumber_1.default) components.push(component.asNumber());\n    }\n    return components;\n  };\n  AppearanceCharacteristics.prototype.getBackgroundColor = function () {\n    var BG = this.BG();\n    if (!BG) return undefined;\n    var components = [];\n    for (var idx = 0, len = BG === null || BG === void 0 ? void 0 : BG.size(); idx < len; idx++) {\n      var component = BG.get(idx);\n      if (component instanceof PDFNumber_1.default) components.push(component.asNumber());\n    }\n    return components;\n  };\n  AppearanceCharacteristics.prototype.getCaptions = function () {\n    var CA = this.CA();\n    var RC = this.RC();\n    var AC = this.AC();\n    return {\n      normal: CA === null || CA === void 0 ? void 0 : CA.decodeText(),\n      rollover: RC === null || RC === void 0 ? void 0 : RC.decodeText(),\n      down: AC === null || AC === void 0 ? void 0 : AC.decodeText()\n    };\n  };\n  AppearanceCharacteristics.prototype.setRotation = function (rotation) {\n    var R = this.dict.context.obj(rotation);\n    this.dict.set(PDFName_1.default.of('R'), R);\n  };\n  AppearanceCharacteristics.prototype.setBorderColor = function (color) {\n    var BC = this.dict.context.obj(color);\n    this.dict.set(PDFName_1.default.of('BC'), BC);\n  };\n  AppearanceCharacteristics.prototype.setBackgroundColor = function (color) {\n    var BG = this.dict.context.obj(color);\n    this.dict.set(PDFName_1.default.of('BG'), BG);\n  };\n  AppearanceCharacteristics.prototype.setCaptions = function (captions) {\n    var CA = PDFHexString_1.default.fromText(captions.normal);\n    this.dict.set(PDFName_1.default.of('CA'), CA);\n    if (captions.rollover) {\n      var RC = PDFHexString_1.default.fromText(captions.rollover);\n      this.dict.set(PDFName_1.default.of('RC'), RC);\n    } else {\n      this.dict.delete(PDFName_1.default.of('RC'));\n    }\n    if (captions.down) {\n      var AC = PDFHexString_1.default.fromText(captions.down);\n      this.dict.set(PDFName_1.default.of('AC'), AC);\n    } else {\n      this.dict.delete(PDFName_1.default.of('AC'));\n    }\n  };\n  AppearanceCharacteristics.fromDict = function (dict) {\n    return new AppearanceCharacteristics(dict);\n  };\n  return AppearanceCharacteristics;\n}();\nexports.default = AppearanceCharacteristics;","map":{"version":3,"names":["PDFName_1","tslib_1","__importDefault","require","PDFNumber_1","PDFArray_1","PDFHexString_1","PDFString_1","AppearanceCharacteristics","dict","prototype","R","lookup","default","of","undefined","BC","BG","CA","RC","AC","getRotation","_a","asNumber","getBorderColor","components","idx","len","size","component","get","push","getBackgroundColor","getCaptions","normal","decodeText","rollover","down","setRotation","rotation","context","obj","set","setBorderColor","color","setBackgroundColor","setCaptions","captions","fromText","delete","fromDict","exports"],"sources":["/Users/casarulez/Projects/Liquid-neurons/database_forms/data_entry_forms/node_modules/pdf-lib/src/core/annotation/AppearanceCharacteristics.ts"],"sourcesContent":["import PDFDict from 'src/core/objects/PDFDict';\nimport PDFName from 'src/core/objects/PDFName';\nimport PDFNumber from 'src/core/objects/PDFNumber';\nimport PDFArray from 'src/core/objects/PDFArray';\nimport PDFHexString from 'src/core/objects/PDFHexString';\nimport PDFString from 'src/core/objects/PDFString';\n\nclass AppearanceCharacteristics {\n  readonly dict: PDFDict;\n\n  static fromDict = (dict: PDFDict): AppearanceCharacteristics =>\n    new AppearanceCharacteristics(dict);\n\n  protected constructor(dict: PDFDict) {\n    this.dict = dict;\n  }\n\n  R(): PDFNumber | undefined {\n    const R = this.dict.lookup(PDFName.of('R'));\n    if (R instanceof PDFNumber) return R;\n    return undefined;\n  }\n\n  BC(): PDFArray | undefined {\n    const BC = this.dict.lookup(PDFName.of('BC'));\n    if (BC instanceof PDFArray) return BC;\n    return undefined;\n  }\n\n  BG(): PDFArray | undefined {\n    const BG = this.dict.lookup(PDFName.of('BG'));\n    if (BG instanceof PDFArray) return BG;\n    return undefined;\n  }\n\n  CA(): PDFHexString | PDFString | undefined {\n    const CA = this.dict.lookup(PDFName.of('CA'));\n    if (CA instanceof PDFHexString || CA instanceof PDFString) return CA;\n    return undefined;\n  }\n\n  RC(): PDFHexString | PDFString | undefined {\n    const RC = this.dict.lookup(PDFName.of('RC'));\n    if (RC instanceof PDFHexString || RC instanceof PDFString) return RC;\n    return undefined;\n  }\n\n  AC(): PDFHexString | PDFString | undefined {\n    const AC = this.dict.lookup(PDFName.of('AC'));\n    if (AC instanceof PDFHexString || AC instanceof PDFString) return AC;\n    return undefined;\n  }\n\n  getRotation(): number | undefined {\n    return this.R()?.asNumber();\n  }\n\n  getBorderColor(): number[] | undefined {\n    const BC = this.BC();\n\n    if (!BC) return undefined;\n\n    const components: number[] = [];\n    for (let idx = 0, len = BC?.size(); idx < len; idx++) {\n      const component = BC.get(idx);\n      if (component instanceof PDFNumber) components.push(component.asNumber());\n    }\n\n    return components;\n  }\n\n  getBackgroundColor(): number[] | undefined {\n    const BG = this.BG();\n\n    if (!BG) return undefined;\n\n    const components: number[] = [];\n    for (let idx = 0, len = BG?.size(); idx < len; idx++) {\n      const component = BG.get(idx);\n      if (component instanceof PDFNumber) components.push(component.asNumber());\n    }\n\n    return components;\n  }\n\n  getCaptions(): { normal?: string; rollover?: string; down?: string } {\n    const CA = this.CA();\n    const RC = this.RC();\n    const AC = this.AC();\n\n    return {\n      normal: CA?.decodeText(),\n      rollover: RC?.decodeText(),\n      down: AC?.decodeText(),\n    };\n  }\n\n  setRotation(rotation: number) {\n    const R = this.dict.context.obj(rotation);\n    this.dict.set(PDFName.of('R'), R);\n  }\n\n  setBorderColor(color: number[]) {\n    const BC = this.dict.context.obj(color);\n    this.dict.set(PDFName.of('BC'), BC);\n  }\n\n  setBackgroundColor(color: number[]) {\n    const BG = this.dict.context.obj(color);\n    this.dict.set(PDFName.of('BG'), BG);\n  }\n\n  setCaptions(captions: { normal: string; rollover?: string; down?: string }) {\n    const CA = PDFHexString.fromText(captions.normal);\n    this.dict.set(PDFName.of('CA'), CA);\n\n    if (captions.rollover) {\n      const RC = PDFHexString.fromText(captions.rollover);\n      this.dict.set(PDFName.of('RC'), RC);\n    } else {\n      this.dict.delete(PDFName.of('RC'));\n    }\n\n    if (captions.down) {\n      const AC = PDFHexString.fromText(captions.down);\n      this.dict.set(PDFName.of('AC'), AC);\n    } else {\n      this.dict.delete(PDFName.of('AC'));\n    }\n  }\n}\n\nexport default AppearanceCharacteristics;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}